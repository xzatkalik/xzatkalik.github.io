<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><link type="text/css" rel="stylesheet" href="style1.css" media="screen" /><title>Tiny PXE Server</title></head><body><font> 
 
 
 
<p> 
<select ONCHANGE="location = this.options[this.selectedIndex].value;"> 
<option value="" disabled></option> 
<option value="../index.html">Contents</option> 
<option value="" disabled>=======</option> 
<option value="pxesrv_about.htm">Introduction</option> 
<option value="pxesrv_settings.htm">Settings</option> 
<option value="pxesrv_gui.htm">GUI Settings</option> 
<option value="pxesrv_config.htm">Config.ini settings</option> 
<option value="pxesrv_service.htm">Run as Service</option> 
<option value="firewall.htm">Firewall Settings</option> 
<option value="test_system.htm">Test System(s)</option> 
<option value="misc.htm">Miscellaneous</option> 
<option value="troubleshooting.htm">Troubleshooting</option> 
<option value="" disabled></option> 
<option value="" disabled>Boot Loaders</option> 
<option value="" disabled>==========</option> 
<option value="pxelinux.htm">PXELINUX</option> 
<option value="grub4dos.htm">Grub4Dos</option> 
<option value="ipxe.htm">iPXE</option> 
<option value="" disabled></option> 
<option value="" disabled>Boot</option> 
<option value="" disabled>====</option> 
<option value="fdd.htm">Floppy Disk Image</option> 
<option value="iso.htm">ISO Image</option> 
<option value="" disabled></option> 
<option value="" disabled>Linux</option> 
<option value="" disabled>=====</option> 
<option value="centos_netinstall.htm" selected="selected">CentOS - Network...</option> 
<option value="debian_netinstall.htm">Debian - Network...</option> 
<option value="fatdog.htm">FatDog</option> 
<option value="gparted.htm">GPartEd</option> 
<option value="ubuntu.htm">ubuntu/Lubuntu</option> 
<option value="ubuntu_netinstall.htm">ubuntu - Network...</option> 
<option value="" disabled></option> 
<option value="" disabled>WinPE</option> 
<option value="" disabled>=====</option> 
<option value="winpe.htm">WinPE</option> 
<option value="winpe_wimboot.htm">WinPE (wimboot)</option> 
<option value="winpe_bcd.htm">Multiple WinPE</option> 
<option value="" disabled></option> 
<option value="" disabled>Net Install Windows</option> 
<option value="" disabled>===============</option> 
<option value="ris.htm">RIS</option> 
<option value="ris_issues.htm">Troubleshooting RIS</option> 
<option value="win6x.htm">Install Windows NT 6.*</option> 
<option value="win5x.htm">Install Windows NT 5.*</option> 
<option value="" disabled></option> 
<option value="" disabled>SANBOOT (AoE)</option> 
<option value="" disabled>================</option> 
<option value="aoe_target.htm">AoE (Windows T...</option> 
<option value="aoe_install_winnt5.htm">AoE (Install Driver...</option> 
<option value="aoe_install_winnt6.htm">AoE (Install Driver...</option> 
<option value="aoe.htm">AoE (Clone...</option> 
<option value="" disabled></option> 
<option value="" disabled>SANBOOT (iSCSI)</option> 
<option value="" disabled>================</option> 
<option value="iscsi_targets.htm">iSCSI (Windows T...</option> 
<option value="iscsi_kernsafe.htm">iSCSI (Kernsafe...</option> 
<option value="iscsi_ms.htm">iSCSI (Microsoft...</option> 
<option value="iscsi_pytarget.htm">iSCSI (pyTarget)</option> 
<option value="iscsi.htm">iSCSI (Clone...</option> 
<option value="iscsi_install.htm">iSCSI (Install...</option> 
<option value="iscsi_centos.htm">iSCSI ...CentOS</option> 
<option value="iscsi_ubuntu.htm">iSCSI ...ubuntu</option> 
<option value="iscsi_ubuntu_netinstall.htm">iSCSI ...ubuntu (2)</option> 
<option value="" disabled></option> 
<option value="" disabled>Miscellaneous</option> 
<option value="" disabled>===========</option> 
<option value="clone.htm">Capture Windows...</option> 
<option value="clone_strarc.htm">Copy Windows...</option> 
<option value="service.htm">Network Adapter C...</option> 
<option value="wfplwf.htm">Unbinding The Light...</option> 
<option value="forensics.htm">Digital Forensic Acq...</option> 
<option value="ipxe_build.htm">iPXE - How to...</option> 
<option value="" disabled></option> 
<option value="" disabled>Appendices</option> 
<option value="" disabled>=========</option> 
<option value="pxesrv_zip.htm">Contents of pxesrv.zip</option> 
<option value="pxesrv_faq.htm">Erwan's FAQ</option> 
<option value="ack.htm">Acknowledgements...</option> 
<option value="" disabled></option> 
</select> 
</p> 
 
 
 
<hr> 
<img src="img/logo6.jpg" BORDER=1></a> 
 

<h2 align="center"><u>CentOS - Network Installation</u></h2>



<p>
This page covers Network installations of CentOS Version 7. Page contents -
<ul>
<li><a class="glossary" href="centos_netinstall.htm#requirements">Requirements</a></li>
<li><a class="glossary" href="centos_netinstall.htm#netinstall1">Netinstall (Internet)</a></li>
<li><a class="glossary" href="centos_netinstall.htm#netinstall2">Netinstall (LAN)</a></li>
<li><a class="glossary" href="centos_netinstall.htm#install">Install CentOS</a></li>
</ul>
</p>






<a name="requirements"></a>
<h3 class="breaktop"><u>Requirements</u></h3>

<p>
Your Network Boot Program will need to include HTTP support - if using <font class="file">grub4dos</font> or <font class="file">PXELINUX</font> you will need to chainload <font class="file">iPXE</font>.
</p>


<p>
If using the <a class="glossary" href="centos_netinstall.htm#netinstall2">Netinstall (LAN)</a> method then you will need to download one of the <font class="file">CentOS</font> iso files -
<a name="downloads"></a>
<ul>
<li><a class="glossary" target="_blank" href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso">Minimal</a></li>
<li><a class="glossary" target="_blank" href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-1611.iso">DVD</a></li>
<li><a class="glossary" target="_blank" href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Everything-1611.iso">Everything</a></li>
<li><a class="glossary" target="_blank" href="https://www.centos.org/download/">Download Page</a></li>
<li><a class="glossary" target="_blank" href="https://wiki.centos.org/Download">Alternative Download Page</a></li>
</ul>
</p>



<a name="netinstall1"></a>
<h3 class="breaktop"><u>Netinstall (Internet)</u></h3>


<p>
A simple method to install CentOS is covered on the <font class="file">iPXE</font> website (<a class="glossary" target="_blank" href="http://ipxe.org/howto/rh_san">here</a>) - an <font class="file">iPXE</font> script is used to start the process and all files are copied from one of the on-line <font class="file">CentOS</font> repositories. 
</p>

<p>
Create a script in the TFTP root directory <font class="file">C:\pxesrv\files\centos.install.txt</font>. Configure <font class="file">Tiny PXE Server</font> to load <font class="file">iPXE</font> &gt; chainload the script using the <a class="glossary" href="pxesrv_config.htm#altfilename">altfilename</a> option in <font class="file">config.ini</font> (add <font class="file">altfilename=centos.install.txt</font> to <font class="file">config.ini</font>). 
</p>


<p>Sample script <font class="file">centos.install.txt</font> - 
<br />
<textarea style="font-size:12px" cols="80" rows="8" align="left" wrap="OFF" readonly>
#!ipxe
set base http://mirror.centos.org/centos/7/os/x86_64
kernel ${base}/images/pxeboot/vmlinuz initrd=initrd.img repo=${base}
initrd ${base}/images/pxeboot/initrd.img
boot
</textarea>
</p>








<a name="netinstall2"></a>
<h3 class="breaktop"><u>Netinstall (LAN)</u></h3>


<p>
This method can be used to install <font class="file">CentOS</font> on a network with no internet access. The <font class="file">CentOS</font> source will need to be downloaded and configured, however these steps can be completed on another system. 
</p>

<p>
Download either the DVD or Everything <font class="file">iso</font> files (see <a class="glossary" href="centos_netinstall.htm#download">here</a>). If you have the required storage space and bandwidth, then I recommend downloading the Everything <font class="file">iso</font> as this contains a full <font class="file">CentOS</font> repository. 
</p>

<p>
<font class="file">CentOS-7-x86_64-Everything-1611.iso</font> was used in testing. Download the <font class="file">iso</font> and copy the contents to the following path - <font class="file">C:\pxesrv\files\centos7x64\</font>.
</p>


<p>
The source files will need to be modified in order for the <font class="file">INSTALLATION SOURCE</font> to be correctly located when <font class="file">CentOS</font> is loaded. There will be a number of files in the <font class="file">C:\pxesrv\files\centos7x64\repodata</font> directory missing a required file extension. Open <font class="file">C:\pxesrv\files\centos7x64\repodata\repomd.xml</font> to identify the required file extension(s) and rename the files accordingly. For example, rename...
<br />
<textarea style="font-size:12px" cols="80" rows="3" align="left" readonly>
d4354b33db2260e6566630861236abe6e481e09a929aeb6db95c0b4016ca5860
</textarea>
<br />
...to...
<br />
<textarea style="font-size:12px" cols="80" rows="3" align="left" readonly>
d4354b33db2260e6566630861236abe6e481e09a929aeb6db95c0b4016ca5860-other.xml.gz
</textarea>
</p>


<p class="break3em">
Depending on the options picked during the installation, you may need to rename some of the files in the <font class="file">C:\pxesrv\files\centos7x64\Packages</font> directory. 
</p>


<p>
During my first install attempt I received an error due to <font class="file">gnome-shell-extension-launch-new-instance-3.14.4-21.el7.noarch.rpm</font> not being found. On checking the contents of the <font class="file">C:\pxesrv\files\centos7x64\Packages</font> directory, I noticed that the required file was missing the correct file extension - (the required file had a <b>.r</b> extension - not <b>.rpm</b>).
</p>

<p>
Consider renaming any files in the <font class="file">C:\pxesrv\files\centos7x64\Packages</font> directory with a <b>.r</b> extension to <b>.rpm</b>. These packages include -
<ul>
<li><font class="file">google-noto-sans-syriac-estrangela-fonts-20141117-5.el7.noarch.r</font></li>
<li><font class="file">google-noto-sans-old-south-arabian-fonts-20141117-5.el7.noarch.r</font></li>
<li><font class="file">gnome-shell-extension-workspace-indicator-3.14.4-21.el7.noarch.r</font></li>
<li><font class="file">gnome-shell-extension-launch-new-instance-3.14.4-21.el7.noarch.r</font></li>
<li><font class="file">apache-commons-collections-testframework-3.2.1-22.el7_2.noarch.r</font></li>
<li><font class="file">texlive-texconfig-bin-svn27344.0-38.20130427_r30134.el7.noarch.r</font></li>
<li><font class="file">texlive-latex-bin-bin-svn14050.0-38.20130427_r30134.el7.noarch.r</font></li>
</ul>
</p>



<p>
Now create a script to boot <font class="file">CentOS</font> using the local repository. Create a script in the TFTP root directory <font class="file">C:\pxesrv\files\centos.install.txt</font>. Configure <font class="file">Tiny PXE Server</font> to load <font class="file">iPXE</font> &gt; chainload the script using the <a class="glossary" href="pxesrv_config.htm#altfilename">altfilename</a> option in <font class="file">config.ini</font> (add <font class="file">altfilename=centos.install.txt</font> to <font class="file">config.ini</font>). 
</p>



<p>Sample script <font class="file">centos.install.txt</font> - 
<br />
<textarea style="font-size:12px" cols="80" rows="8" align="left" wrap="OFF" readonly>
#!ipxe
set base http://${dhcp-server}
kernel ${base}/images/pxeboot/vmlinuz initrd=initrd.img repo=${base}
initrd ${base}/images/pxeboot/initrd.img
boot
</textarea>
<br />
<b><u><font color="red">NOTE</font></u></b> - remember to change any references to <font class="file">${dhcp-server}</font> to <font class="file">${next-server}</font> if using ProxyDHCP.
</p>






<a name="install"></a>
<h3 class="breaktop"><u>Install CentOS</u></h3>


<p>
The installation process is straightforward - it is covered in more detail in the <a class="glossary" href="iscsi_centos.htm">iSCSI (Netinstall CentOS to Target)</a> page. 
</p>


<p>
Alternatively, see <a class="glossary" target="_blank" href="http://www.tecmint.com/centos-7-installation/">here</a> for a detailed walkthrough.
</p>




<div>
<br >
<a href="img/centos.netinstall.jpg"><IMG SRC="img/centos.netinstall.jpg" float=left width=90% margin-right=1% margin-bottom=0.5em border=1></a>
</div>







<p class="breakbottom">
</p>

<p class="breaktop"><font class="file">Document date - 28<sup>th</sup> February 2017(DRAFT)</font></p></font></body></html>