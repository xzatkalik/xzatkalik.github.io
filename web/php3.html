<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
   <meta name="GENERATOR" content="Mozilla/4.07 [en] (X11; I; Linux 2.0.36 i586) [Netscape]">
   <meta name="Author" content="Marek Ondrej">
   <title>Semstralny projekt II</title>
<style type="text/css">.vimvixen-console-frame {
  margin: 0;
  padding: 0;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  position: fixed;
  z-index: 2147483647;
  border: none;
  background-color: unset;
  pointer-events: none; }
</style><style type="text/css">.vimvixen-hint {
  background-color: yellow;
  border: 1px solid gold;
  font-weight: bold;
  position: absolute;
  text-transform: uppercase;
  z-index: 2147483647;
  font-size: 12px;
  color: black;
}
</style></head>
<body vlink="#003300" text="#000000" link="#33FF33" bgcolor="#FFFFFF" alink="#FF0000">

<center>
<h1>
<b><u>Jazyk PHP3</u></b></h1></center>

<h1>
<a name="T1"></a><b><u><font size="+1">1. OBSAH</font></u></b></h1>

<blockquote><b>1. <a href="#T1">Obsah</a></b>
<br><b>2. <a href="#T2">História vzniku jazyka PHP</a></b>
<br><b>3. <a href="#T3">Úvod do PHP3</a></b>
<br><b>4. <a href="#T4">In¹talácia</a></b>
<blockquote><b>4.1.&nbsp;&nbsp;&nbsp; <a href="#T41">Zdroje</a></b>
<br><b>4.2.&nbsp;&nbsp;&nbsp; <a href="#T42">Postup</a></b>
<br><b>4.3.&nbsp;&nbsp;&nbsp; <a href="#T43">Konfigurácia</a></b></blockquote>
<b>5.<a href="#T5"> Syntax a gramatika jazyka PHP</a></b>
<blockquote><b>5.1.&nbsp;&nbsp;&nbsp; <a href="#T51">Pou¾itie PHP v HTML
dokumente</a></b>
<br><b>5.2.&nbsp;&nbsp;&nbsp; <a href="#T52">Inicializácia premenných</a></b>
<br><b>5.3.&nbsp;&nbsp;&nbsp;<a href="#T53"> Rozsah platnosti premenných</a></b>
<br><b>5.4.&nbsp;&nbsp;&nbsp; <a href="#T54">Premenné premenné alebo dynamické
meno premennej</a></b>
<br><b>5.5.&nbsp;&nbsp;&nbsp; <a href="#T55">Manipulácie s typmi</a></b>
<br><b>5.6.&nbsp;&nbsp;&nbsp; <a href="#T56">Manipulácie s poliami</a></b>
<br><b>5.7.&nbsp;&nbsp;&nbsp; <a href="#T57">Skladba jazyka</a></b>
<br><b>5.8.&nbsp;&nbsp;&nbsp; <a href="#T58">Operátory</a></b></blockquote>
<b>6.<a href="#T6"> Popis funkcií jazyka PHP</a></b>
<ol><b>6.1.&nbsp;&nbsp;&nbsp; <a href="#T61">Funkcie zamerané pre APACHE</a></b>
<br><b>6.2.&nbsp;&nbsp;&nbsp;<a href="#T62"> Funkcie pre prácu s poliami</a></b>
<br><b>6.3.&nbsp;&nbsp;&nbsp;<a href="#T63"> Funkcie pre prácu s èasom
a dátumom</a></b>
<br><b>6.4.&nbsp;&nbsp;&nbsp; <a href="#T64">Funkcie pre prácu s adresármi</a></b>
<br><b>6.5.&nbsp;&nbsp;&nbsp;<a href="#T65"> Funkcie na spú¹»anie programov</a></b>
<br><b>6.6.&nbsp;&nbsp;&nbsp; <a href="#T66">Funkcie pre prácu so súborovým
systémom</a></b>
<br><b>6.7.&nbsp;&nbsp;&nbsp; <a href="#T67">Funkcie urèené pre HTTP protokol</a></b>
<br><b>6.8.&nbsp;&nbsp;&nbsp; <a href="#T68">Informaèné a riadiace funkcie
PHP</a></b>
<br><b>6.9.&nbsp;&nbsp;&nbsp; <a href="#T69">Funkcie pre elektronickú po¹tu</a></b>
<br><b>6.10.&nbsp; <a href="#T610">Matematické funkcie</a></b>
<br><b>6.11.&nbsp; <a href="#T611">Funkcie pre prácu so sie»ou</a></b>
<br><b>6.12.&nbsp; <a href="#T612">Funkcie pre regulárne výrazy</a></b>
<br><b>6.13.&nbsp; <a href="#T613">Funkcie pre prácu s re»azcami</a></b>
<br><b>6.14.&nbsp; <a href="#T614">Funkcie na prácu s URL adresami</a></b>
<br><b>6.15.&nbsp; <a href="#T615">Funkcie na prácu s premennými</a></b>
<br><b>6.16.&nbsp; <a href="#T616">Funkcie pre prácu s gzipovanými súbormi</a></b></ol>
<b>7.<a href="#T7"> Pojednanie o bezpeènosti</a></b>
<br><b>8. <a href="#T8">Príklady</a></b>
<br><b>9. <a href="#T9">Zoznam internetových odkazov a dokumentácie</a></b></blockquote>

<h2>
<a name="T2"></a><u><font size="+1">2. História vzniku jazyka PHP</font></u></h2>
V¹etko to zaèalo v roku 1994. Za otca jazyka sa pova¾uje Rasmus Lerdorf.
Spoèiatku to behalo len na jeho stránke, prvá verzia, ktorá bola prístupná
pre ¹irokú verejnos» bola prístupná a¾ zaèiatkom roka 1995. Jazyk bol pomenovaný
ako <b>Personal Home Page Tools.</b> Este v roku 1995 bol prepísaný parser
jazyka a bol pmenovaný ako PHP/FI Verzia 2. Táto verzia obsahovala podporu
intrprétera foriem (Form Interpreter - FI) a databázového servera mSQL.
<p>V poslednej dobe pre¾íva PHP znaèný rozvoj. Keï v roku 1996 pou¾ívalo
PHP asi 15 000 webserverov, v roku 1997 to bolo u¾ 50 000. V tomto èase
sa vytvoril výkonný tým, ktorý vytvoril nový a výkonnej¹í syntaktický analyzátor
podµa návrhov Zeev Suraski-ho a Andi Gutmans-a. Tak vznikla verzia PHP3.
V súèasnej dobe pou¾íva PHP3 mno¾stvo komerèných produktov a je pou¾ívaný
takmer 180 000 webservermi.
</p><h2>
<a name="T3"></a><u><font size="+1">3. Úvod do PHP3</font></u></h2>
PHP verzie 3.0 je skript aplikovateµný v HTML dokumentoch, ktorý sa vykonáva
na strane servera. Výhoda PHP spoèíva v tom, ¾e doká¾e spolupracova» s
mnohými databázovými systémami. Ide najmä o nasledovné databázové systémy:
<p>Oracle
<br>Adabas D
<br>Sybase
<br>FilePro
<br>mSQL
<br>Velocis
<br>MySQL
<br>Informix
<br>Solid
<br>dBase
<br>ODBC
<br>Unix dbm
<br>PostgreSQL
</p><p><font size="+0">Táto vlastnos» predurèuje PHP pre pou¾itie v spolupráci
s databázami. Jednoduchos» jazyka a jeho univerzálnos» sú základom pre
jeho rýchle zvládnutie. Pri pou¾ití PHP teda staèí ak klient bude ma» k
dispozícii internetovský prehliadaè, èo je v súèasnej dobe nulová investícia.
Keï¾e PHP pracuje na strane servera, nie je potrebné toµko investova» do
hardvéru klienta, ale staèí trocha zví¹i» výkon servera. PHP podporuje
taktie¾ spoluprácu s veµmi výkonnými databázovými servermi pracujúcimi
pod OS Linux èo znamená, ¾e sú úplne zdarma aj pre komerèné pou¾itie. Keï
sa to zhrnie, pri takmer nulových investíciách do softvéru získame veµmi
kvalitnú a spoµahlivú softvérovú podporu, ktorá mô¾e nejednej firme pomôc»
zautomatizova» svoju administratívu. Vïaka veµkému rozvoju internetu je
mo¾né s takýmto systémom spolupracova» z µubovoµného miesta na svete pri
dodr¾aní najvy¾¹ích bezpeènostných kritérií.</font>
</p><h2>
<a name="T4"></a><u>4. In¹talácia</u></h2>
<a name="T41"></a><u><font size="+1">4.1. Zdroje</font></u>
<br>&nbsp;&nbsp;&nbsp; PHP pracuje v¹ade tam. kde pracuje WEB server APACHE.
Keï¾e po prvý krát boli obe tieto produkty vytvorené pod operaèným systémom
Linux, popí¹em postup in¹talácie pod týmto operaèným systémom. In¹talácia
je veµmi jednoduchá. Najprv si stiahnete in¹talaèné súbory pre tú ktorú
distribúciu. Pre Red Hat Linux[1] som vytvoril balíèek s programom[2]
<center>apache-1.3.3-3.0.5-1.i386.rpm</center>
a dokumentáciou
<center>apache-doc-1.3.3-3.0.5-1.i386.rpm</center>

<p>V týchto balíèkoch sa nachádza in¹talácia APACHE servera s prikompilovaným
PHP3 modulom.&nbsp; Zdrojové kódy pou¾ité na vytvorenie týchto balíkov
boli èerpané priamo zo serverov firiem, ktoré ich distribuujú [3][4].
</p><p><a name="T42"></a><u><font size="+1">4.2. Postup</font></u>
<br>In¹taláciu mô¾e previes» len superu¾ívateµ a to príkazom
<i>rpm -Uhv&nbsp;
apache-1.3.3-3.0.5-1.i386.rpm. </i>Samozrejme existujú aj iné zlo¾itej¹ie
metódy. V tomto prípade bol modul pridaný staticky, tj. priamo do kódu
samotného servera. Je mo¾né ho v¹ak prida» aj dynamicky, tj. pri spustení.
Tento spôsob je v súèasnej dobe oveµa oblúbenej¹í a efektívnej¹í. Keï¾e
APACHE má silnú podporu modulov, je mo¾né podobným spôsobom prida» nielen
modul PHP, ale aj rôzne ïal¹ie moduly, ako napríklad modul SSL pre kryptované
spojenie.
</p><p><a name="T43"></a><u><font size="+1">4.3. Konfigurácia</font></u>
<br>Existujú dva spôsoby konfigurácie. Ten prvý je pomocou súboru <i>php3.ini.</i>
Druhý spôsob spèíva v modifikácii konfigurèných súborov <i>httpd.conf,
srm.conf</i> webservera APACHE. Obe spôsoby sú si ekvivalentné. Rozdiel
je len v tom, ¾e pravidlá, ktoré budú uvedené ni¾¹ie sa pri konfigurácii
cez configuraèné súbory web servera roz¹irujú o predponu "PHP3_".
<br>Výber najhlavnej¹ích configurovateµných&nbsp; pravidiel:
</p><p><b>display_errors boolean </b>- urèuje, èi sa v html dokumente majú
vypisova» chyby na zobrazovanú stránku, alebo nie,
<br><b>doc_root string - </b>adresár urèený pre súbori s ktorými mô¾e PHP
pracova» ak je zapnutý bezpeèný mód práce,
<br><b>engine boolean - (</b>len vo verzii ako modul APACHE-a) povolenie,
resp. zakázanie PHP
<br><b>error_log string - </b>meno súboru do ktorého sa budú uklada» chybové
hlásenia
<br><b>error_reporting integer -</b> nastavenie re¾imu pre generovanie
chybových správ
<br>1&nbsp;&nbsp;&nbsp; normálne chyby
<br>2&nbsp;&nbsp;&nbsp; normálne upozornenia
<br>4&nbsp;&nbsp;&nbsp; chyby prekladaèa
<br>8&nbsp;&nbsp;&nbsp; nie kritické chyby (upozornenia)
<br>Preddefinovaná hodnota je 7 (1+2+3)
<br><b>open_basedir string </b>- urèuje vrchol adresárového stromu, od
ktorého sú súbori pre PHP prístupné. Nie je mo¾né vyskoèi» z tohoto podstromu
symbolickou linkou, nakoµko sú tieto ignorované. Implicitne je povolené
pristupova» ku v¹etkým súborom!
<br><b>gpc_order string -</b> poradie vykonávania metód GET/POST/COOKIE
v tvare napr. PG. Je mo¾né takto zamedzi» prepísaniu hodnôt premenných
pri pou¾ití rovnakých mien premenných pre rôzne metódy.
<br><b>include_path string - </b>adresár z ktorého èítajú funkcie <i>require(),
include() </i>a<i> fopen_with_path()</i>.
<br>Príklad pre UNIX:
<br>&nbsp;&nbsp;&nbsp;&nbsp; include_path=.:/home/httpd/php-lib
<br>Príklad pre WINDOWS :
<br>&nbsp;&nbsp;&nbsp;&nbsp; include_path=.;c:\www\phplib
<br>Imlicitne sa berie aktuálny adresár.
<br><b>log_errors boolean - </b>urèuje èi sa budú vzniknuté chyby zanamenáva»,
alebo nie.
<br><b>max_execution_time integer </b>- maximálny èas v sekundách, poèas
ktorého mô¾e pracova» PHP skript. (ochrana pred pre»a¾ením servera)
<br><b>memory_limit integer </b>- maximálne mno¾stvo pamäte v bajtoch,
ktoré si mo¾u PHP skripty alokova».
<br><b>short_open_tag boolean </b>- skrátená forma otvárania PHP skriptu
na HTML stránke. Ak je táto voµba povolená, tak je mo¾né pou¾i» "&lt;?",
ak je voµba vypnutá je potrebné pou¾i» kombináciu "&lt;?php".
<br><b>sql.safe_mode boolean</b> - bezpeèný mód pre sql
<br><b>track_errors boolean - </b>ak je voµba povolená, posledná chyba
sa bude uklada» do globálnej premennej $php_errormsg.
<br><b>track_vars boolean -</b> ak je voµba povolená, potom vstupy GET,
POST a cookie mô¾eme nájs» tie¾ v globálnych premenných&nbsp; $HTTP_GET_VARS,
$HTTP_POST_VARS a $HTTP_COOKIE_VARS.
<br><b>upload_tmp_dir string </b>- adresár pre odkladanie pomocných súborov.
Musí ma» povolený zápis pre pou¾íva»eµa pod ktorým sa vykonáva PHP skript
<br><b>user_dir string </b>- bázový (domovský) adresár pre PHP skripty
<br><b>warn_plus_overloading boolean </b>- pri zapnutí bude hlási» upozornenia
pri pou¾ití operácie (+) na re»azce. Ide o chybný zápis, nakoµko sa na
pou¾íva
<br>perácia konkatenácie (.)
</p><p><b><u>Pravidlá pre konfiguráciu elektronickej po¹ty</u></b>
<br><b>SMTP string </b>- DNS názov, alebo IP adresa SMTP servera. Je to
potrebné pre pou¾ívanie funkcií pre po¹tu s PHP pod OS WINDOWS
<br><b>sendmail_from string </b>- text ktorý sa pou¾ije ako adresa pisateµa
po¹ty
<br><b>sendmail_path string </b>- cesta k programu, ktorý zabezpeèuje prácu
s po¹tou (napr. /usr/sbin/sendmail)
</p><p><b><u>Pravidlá pre konfiguráciu bezpeèného módu</u></b>
<br><b>safe_mode boolean </b>- povolenie, alebo zakázanie bezpeèného módu
PHP
<br><b>safe_mode_exec_dir string </b>- adresár, z ktorého je mo¾né spú¹»a»
programy pri zapnutom bezpeènom móde.
</p><p><b><u>Pravidlá pre konfiguráciu nahrávania roz¹irujúcich modulov</u></b>
<br><b>enable_dl boolean - </b>len pri pou¾ití ako modul APACHE-a, je mo¾né
povoli» dynamické nahrávanie roz¹irujúcich modulov do PHP
<br><b>extension_dir string </b>- adresár, v ktorom sa budú hlada» dynamicky
nahrávateµné roz¹írenia.
<br><b>extension string</b> - dynamicky nahrávateµné roz¹írenia, ktoré
je mo¾né
</p><p><b><u>Pravidlá pre konfiguráciu MySQL</u></b>
<br><b>mysql.allow_persistent boolean</b> - Povolenie trvalých pripojení
k MySQL
<br><b>mysql.max_persistent integer</b> - Maximálny poèet trvalých pripojení
k MySQL na proces.
<br><b>mysql.max_links integer</b> - maximálny poèet pripojení k MySQL
vrátane trvalých.
</p><p><b><u>Pravidlá pre konfiguráciu msql</u></b>
<br><b>msql.allow_persistent boolean - </b>Povolenie trvalých pripojení
k msql
<br><b>msql.max_persistent integer -&nbsp;</b> Maximálny poèet trvalých
pripojení k msql na proces.
<br><b>msql.max_links integer </b>- maximálny poèet pripojení k msql vrátane
trvalých.
</p><p><b><u>Pravidlá pre konfiguráciu Postgresu</u></b>
<br><b>pgsql.allow_persistent boolean&nbsp; - </b>Povolenie trvalých pripojení
k Postgres-u
<br><b>pgsql.max_persistent integer -&nbsp;</b> Maximálny poèet trvalých
pripojení k Postgres-u na proces.
<br><b>pgsql.max_links integer </b>- maximálny poèet pripojení k Postgres-u
vrátane trvalých.
</p><p><b><u>Pravidlá pre konfiguráciu Sybase</u></b>
<br><b>sybase.allow_persistent boolean - p</b>ovolenie trvalých pripojení
k Sybase
<br><b>sybase.max_persistent integer -&nbsp;</b> maximálny poèet trvalých
pripojení k Sybase na proces.
<br><b>sybase.max_links integer </b>- maximálny poèet pripojení k Sybase
vrátane trvalých.
</p><p><b><u>Pravidlá pre konfiguráciu Sybase-CT</u></b>
<br><b>sybct.allow_persistent boolean - </b>Povolenie trvalých pripojení
k Sybase-CT
<br><b>sybct.max_persistent integer -&nbsp;</b> Maximálny poèet trvalých
pripojení k&nbsp; Sybase-CT na proces.
<br><b>sybct.max_links integer </b>- maximálny poèet pripojení k Sybase-CT
vrátane trvalých.
</p><p><b><u>Pravidlá pre konfiguráciu BC Math</u></b>
<br><b>bcmath.scale integer</b> - poèet dekadických èíslic pre v¹etky bcmath
funkcie.
</p><p><b><u>Pravidlá pre konfiguráciu v¹eobecného ODBC</u></b>
<br><b>uodbc.default_db string</b> - zdroj údajov pre pripojenie cez ODBC,
ak tento nie je ¹pecifikovaný vo funkciách odbc_connect() alebo odbc_pconnect()
<br><b>uodbc.default_user string</b> - meno pou¾ívateµa, ktoré sa má pou¾i»
ak nie je&nbsp; ¹pecifikované vo funkciách odbc_connect() alebo odbc_pconnect()
<br><b>uodbc.default_pw string</b> - heslo, ktoré sa má pou¾i» ak nie je&nbsp;
¹pecifikované vo funkciách odbc_connect() alebo odbc_pconnect()
<br><b>uodbc.allow_persistent boolean&nbsp; - </b>Povolenie trvalých pripojení
cez ODBC
<br><b>uodbc.max_persistent integer -&nbsp;</b> Maximálny poèet trvalých
pripojení cez ODBC na proces.
<br><b>uodbc.max_links integer </b>- maximálny poèet pripojení cez ODBC
vrátane trvalých.
</p><p><a name="T5"></a><b><u><font size="+1">5. Syntax a gramatika jazyka PHP</font></u></b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.1. Pou¾itie PHP v HTML
dokumente
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.2. Inicializácia premenných
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.3. Rozsah platnosti premenných
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.4. Premenné premenné alebo
dynamické meno premennej
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.5. Ïal¹ie premenné
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.6. Manipulácie s typmi
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.7. Manipulácie s poliami
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.8. Skladba jazyka
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.9. Operátory
</p><p><a name="T51"></a><u><font size="+1">5.1. Pou¾itie PHP v HTML dokumente</font></u>
<br>Existujú 3 spôsoby ako zakomponova» skript napísaný v jazyku do HTML
dokumentu:
</p><p>1.&nbsp;&nbsp;&nbsp;&nbsp; &lt;? program ?&gt; - táto skrátená mo¾nos»
e najviac pou¾ívaná, je ju v¹ak nutné pri konfigurácii zapnú».
<br>2.&nbsp;&nbsp;&nbsp; &lt;?php program ?&gt; - toto je klasická forma zápisu,
pochádza z èias vytvorenia PHP, obèas sa pou¾íva aj v tvare &lt;?php3 program
?&gt;
<br>3.&nbsp;&nbsp;&nbsp; &lt;script language="php"&gt; program &lt;/script&gt;
</p><p><a name="T52"></a><u><font size="+1">5.2. Inicializácia premenných</font></u>
<br>V PHP sa inicializácia premenných vykonáva jednoducho priradením hodnoty
danej premennej.&nbsp; Väè¹inou je typ premennej urèený automaticky podµa
hodnoty premennej a ako uvidíme neskôr vôbec nemusí by» urèený staticky.
Niektoré typy je mo¾né inicializova» rôznymi spôsobmi.
</p><p><b>Inicializácia polí:</b>
<br>Pole premenných je mo¾né inicializova» dvoma spôsobmi. Prvou mo¾nos»ou
je sekvenène napåòa» prvky poµa:
<br>&nbsp;
</p><pre><tt>$names[] = "Marek"&nbsp;&nbsp;&nbsp; // $names[0]="Marek"</tt></pre>

<pre><tt>$names[]="Monika"&nbsp;&nbsp;&nbsp; //$names[1]="Monika"</tt></pre>

<pre><tt>...</tt></pre>

<p><br>Ïal¹ím zo spôsobov je pou¾itie funkcie <b>array()</b>, ktorá je
zdokumentovaná v èasti <i>"Funkcie pre prácu s poµami"</i>
</p><p><b>Inicializácia objektov</b>
<br>Objekty jemo¾né inicializova» pomocou operátora <i>new</i> :
</p><blockquote><tt>class pozdrav</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; function Ahoj()</tt>
<br><tt>&nbsp;&nbsp; {</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "Ahoj";</tt>
<br><tt>&nbsp;&nbsp; }</tt>
<br><tt>}</tt>
<br><tt>$x = new pozdrav;</tt>
<br><tt>$x-&gt;Ahoj();</tt></blockquote>
<a name="T53"></a><u><font size="+1">5.3. Rozsah platnosti premenných</font></u>
<br>Jediné obmedzenie platnosti premenných v PHP je pri pou¾ívateµom definovaných
funkciách. Premenné pou¾ité v tele funkcie majú platnos» len v rámci danej
funkcie. Samozrejme, ¾e premenné platné na globálnej úrovni sú platné aj
v tele funkcie. Ak chceme vo vnútri niektorej funkcie definova» globálne
premenné, deklarujeme ich ako <i>global</i>:
<blockquote><tt>$a=1;</tt>
<br><tt>$b=2;</tt>
<br><tt>Function Sum()</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; global $a,$b,$c;</tt>
<br><tt>&nbsp;&nbsp; $c = $a + $b;</tt>
<br><tt>}</tt>
<br><tt>Sum();</tt>
<br><tt>echo $c;</tt></blockquote>
&nbsp;V uvedenom prípade sa vo funkcii pou¾ijú globálne premenné a vytvorí
sa nová premenná, do ktorej je ulo¾ený súèet predchádzajúcich dvoch. Premenná
$c po ukonèení funkcie bude naïalej platná v globálnej úrovni, premenné
$a,$b sú vo vnútri funkcie reprezentované ako kópie globálnych premenných
ktoré odkazujú na originály. Ïal¹ím spôsobom pou¾itia globálnych funkcií
je pole <i>GLOBALS</i>, pomocou ktorého sa pristupuje ku globálny premenným,
napr:
<blockquote><tt>$a=1;</tt>
<br><tt>$b=2;</tt>
<br><tt>Function Sum()</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; $GLOBALS["b"] = $GLOBALS["a"] + $GLOBALS["b"];</tt>
<br><tt>}</tt>
<br><tt>Sum();</tt>
<br><tt>echo $b;</tt></blockquote>
V HP existujú aj statické premenné, tj premenné platné v danej funkcii,
ktorích hodnoty sa po ukonèení funkcie nezru¹ia. Pre vytvorenie statickej
premennej sa pou¾íva identifikátor static.
<p><a name="T54"></a><u><font size="+1">5.4. Premenné premenné alebo dynamické
meno premennej</font></u>
<br>Niekedy potrebujeme meni» meno premennej poèas behu programu. V PHP
je to mo¾né uroby» nasledovne:
<br>Normálna definícia:&nbsp;&nbsp;&nbsp; $a="ahoj";
<br>Pokiaµ chceme definova» premennú, ktorej meno bude identické s obsahom
predchádzajúcej premennej, pou¾ijeme zápis:
<br>$$a = "Skola";
<br>V premennej $a bude text "Ahoj", v premennej $Ahoj bude text "Skola",
teda príkazom
<br><i>echo "$a $($a)"</i> èo je ekvivalentné <i>echo "$a $Ahoj", </i>vypí¹e
text <i>Ahoj Skola</i>.
<br>Pri pou¾ití polí je potrebné vyrie¹i» nejednoznaènos». Napríklad ak
zadáte $$a[1], potrebujete da» vedie» prekladaèu, èo konkreétne máte na
mysli. Mô¾eme ma» na mysli $a[1] ako premennú, alebo myslíme $$a ako premennú
poµa kde [1] je index. Syntax zápisu pomocou ktorého sa rie¹i uvedený problém
je nasledovná: ${$a[1]} s významom prvého variantu a ${$a}[1] s významom
druhého variantu.
</p><p><a name="T55"></a><u><font size="+1">5.5. Manipulácie s typmi</font></u>
<br>PHP podporuje automatické konverzie typov. Pristupovanie k danému typu
závisí èisto od syntaxe zápisu(viï príklad):
</p><blockquote><tt>$f = "0";&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // $f je re»azec
(ASCII 48)</tt>
<br><tt>$f++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
$f je re»azec "1" (ASCII 49)</tt>
<br><tt>$f += 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // $f je èíslo typu
int (2)</tt>
<br><tt>$f = $f + 1.3; // $f je èíslo typu double (3.3)</tt></blockquote>
<a name="T56"></a><u><font size="+1">5.6. Manipulácie s poliami</font></u>
<br>PHP podporuje skalárne a asociatívne polia premenných. V podstate medzi
nimi nie je rozdiel. Pre prácu s poliami sa pou¾ívajú funkcie:
<br>&nbsp;&nbsp;&nbsp; <i>array() </i>- na vytvorenie poµa
<br>&nbsp;&nbsp;&nbsp; <i>sort(), asort(), ksort()</i> - pre rôzne spôsoby
triedenia polí
<br>&nbsp;&nbsp;&nbsp; <i>next(), prev(), each()</i> - pre prechádzanie
poliami
<p><a name="T57"></a><u><font size="+1">5.7. Skladba jazyka</font></u>
<br><b>Základné pravidlá</b>
</p><blockquote>
<ul>
<li>
príkazy sa mô¾u písa» malými aj veµkými písmenami</li>

<li>
za príkazom musí nasledova» bodkoèiarka</li>

<li>
blok príkazov sa pí¹e do zlo¾ených zátvoriek (ak nie je po¾itý symbol ukonèenia
bloku - viï. konkrétne príkazy)</li>
</ul>
</blockquote>
<b>Základné výrazy</b>
<p><b>IF, ELSE, ELSEIF</b>
<br>&nbsp;&nbsp;&nbsp; - pou¾itie je podobné jazyku C,
<br>IF (vyraz) {zoznam príkazov} ELSE / ELSEIF {zoznam príkazov}
<br>príklad:
</p><blockquote>i<tt>f ($a&gt;$b)</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; print "a je väè¹ie ako b";</tt>
<br><tt>} else</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; print "a nie je väè¹ie ako b";</tt>
<br><tt>}</tt></blockquote>
ELSEIF
<br>&nbsp;&nbsp;&nbsp; - alternatívna podmienka, príklad pou¾itia:
<blockquote><tt>if ($a &gt; $b)</tt>
<br><tt>&nbsp;&nbsp;&nbsp; print "a is bigger than b";</tt>
<br><tt>elseif ($a == $b)</tt>
<br><tt>&nbsp;&nbsp;&nbsp; print "a is equal to b";</tt>
<br><tt>else</tt>
<br><tt>&nbsp;&nbsp;&nbsp; print "a is smaller than b";</tt></blockquote>
Alternatívntny zápis pre IF podmienku:
<br>&nbsp;&nbsp;&nbsp; IF (vyraz) zoznam príkazov ELSE/ELSEIF zoznam príkazov
ENDIF;
<p><b>WHILE</b>
<br>&nbsp;&nbsp;&nbsp; - jednoduchý cyklus, zoznam príkazov sa vykonáva
:
<br>WHILE (výraz) {zoznam príkazov}, alebo
<br>WHILE (výraz): zoznam príkazov ENDWHILE
<br>Pre tento a v¹etky ïal¹ie cykly platia príkazy <i>BREAK </i>a&nbsp;<i>
CONTINUE</i>. Prièom príkaz break zabezpeèí predèasné konèenie cyklu a
príkaz continue preskoèenie nasledujucej èasti kódu, otestuje sa podmienka
a pokraèuje sa&nbsp; v normálnom behu programu.
</p><p><b>DO .. WHILE</b>
<br>Ide o jednoduchý cyklus, ktorý overuje podmienku cyklu a¾ na konci
programového cyklu. To znamená ¾e takýto cyklu sa vykoná v¾dy aspoò raz.
<br>Napríklad:
</p><blockquote><tt>$i = 0;</tt>
<br><tt>do</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; print $i;</tt>
<br><tt>} while ($i&gt;0);</tt></blockquote>
<b>FOR</b>
<br>Ide komlexný cyklus, ktorý zabezpeèuje inicializáciu, testovanie podmienky
a zmenu hodnoty riadiacej premennej. Syntax zápisu je toto¾ná so zápisom
v jazyku C:
<br>FOR (výraz1;výraz2;výraz3) {príkazy},
<br>kde výraz1 je inicializáciuo riadiacej premennej ( definovanie poèiatoènej
hodnoty), výraz2 je podmienkou cyklu, výraz3 urèuje zmenu hodnoty&nbsp;
riadiacej premennej cyklu. Existuje len tento variant zápisu. variant typu
FOR(v1;v2;v3): príkazy ENDFOR je neprípustný.
<p><b>SWITCH - CASE</b>
<br>Ide o kon¹trukciu viacnásobného vetvenia zo syntaxou zápisu toto¾nou
tej v jazyku C:
</p><blockquote><tt>SWITCH (premenná)</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; CASE hodnota1: príkazy;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
break;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; CASE hodnota2: príkazy;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
break;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; ....</tt>
<br><tt>&nbsp;&nbsp;&nbsp; CASE hodnotaN: príkazy;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
break;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; DEFAULT:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
príkazy;</tt>
<br><tt>}</tt></blockquote>
Uvedená premenná sa porovnáva s jednotlivými hodnotami. Akk narazí na rovnakú
hodnotu, tak vykoná príslu¹né príkazy a ak je za nimi uvedený príkaz break,
tak preskoèí zvy¹ok kódu. Ak na hµadanú hodnotu nenarazí, tak sa vykonajú
príkazy uvedené za návestím DEFAULT. Toto návestie v¹ak nie je povinné,
teda ak tam nie je tak sa jednoducho niè nevykoná.
<p><b>REQUIRE, INCLUDE</b>
<br>Oba tieto funkcie slú¾ia na vlo¾enie kódu ulo¾eného v inom súbore.
Jediný rozdiel je v tom, ¾e funkcia REQUIRE sa nedá pou¾i» v cykle. Mô¾eme
pomocou nej vlo¾i» len jeden presne zadaný súbor:
</p><blockquote><tt>require('header.inc');</tt></blockquote>
prièom funkcia INCLUDE mô¾e by» pou¾itá aj nasledovne:
<blockquote>
<dd>
<tt>$subory = array('prvy.inc', 'druhy.inc', 'treti.inc');</tt></dd>

<dd>
<tt>for ($i = 0; $i &lt; count($subory); $i++)</tt></dd>

<dd>
<tt>{</tt></dd>

<dd>
<tt>&nbsp; include($subory[$i]);</tt></dd>

<dd>
<tt>}</tt></dd>
</blockquote>
<b>FUNCTION</b>
<br>Ide o kon¹truktor typu funkcia. Pomocou tohto kµúèového slova je mo¾né
vytvori» funkciu:
<br>&nbsp;
<dd>
<tt>FUNCTION meno_fn(argumenty)</tt></dd>

<dd>
<tt>{</tt></dd>

<dd>
<tt>&nbsp;&nbsp;&nbsp; telo funkcie;</tt></dd>

<dd>
<tt>}</tt></dd>

<br>Pozrite si nasledujúci príklad:
<blockquote><tt>function foo( $arg_1, $arg_2, ..., $arg_n )</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; echo "Example function.\n";</tt>
<br><tt>&nbsp;&nbsp; return $retval;</tt>
<br><tt>}</tt></blockquote>
<b>Návratové hodnoty funkcií</b>
<br>Funkcia vracia hodnoty pou¾itím príkazu RETURN (viï. predch. príklad.).
Nie je mo¾né vráti» viacero hodonôt, ale je mo¾né vráti» pole (viï. príklad):
<blockquote><tt>function test()</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; return array( 0, 1, 2 );</tt>
<br><tt>}</tt>
<br><tt>list($a,$b,$c) = foo();</tt></blockquote>
<b>Pou¾itie smerníkov</b>
<br>Doteraz spomenuté prípady odovzdávania informácií funkciám pracovali
na princípe kopírovania hodnoty. Pri pou¾ití smerníkov pristupujeme vo
funkcii k premennej priamo, tj. pristupujeme k nej ako k pamä»ovému miestu.&nbsp;
Hlavnou vlastnos»ou tohoto prístupu je fakt, ¾e pracujeme s pravou hodnotou
a nie kópiou. To znamená, ¾e ak hodonotu premennej vo vnútri funkcie zmeníme,
po ukonèení funkcie táto premenná bude obsahova» zmenenú hodnotu.
<blockquote>&nbsp;
<br><tt>function f( $text )</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; $text .= ' s cukrom.';</tt>
<br><tt>}</tt>
<br><tt>$str = 'Dám si èaj ';</tt>
<br><tt>f( $str );</tt>
<br><tt>echo $str;&nbsp;&nbsp;&nbsp; // vypí¹e 'Dám si èaj '</tt>
<br><tt>f( &amp;$str );</tt>
<br><tt>echo $str;&nbsp;&nbsp;&nbsp; // vypí¹e 'Dám si èaj s cukrom.'</tt></blockquote>
V tom prvom prípade sa vo funkcii pracuje s kópiou hodnoty premennej $text,
v tom druhom sa pracuje s originálom premennej $text.
<p><b>Preddefinované hodnoty</b>
<br>Pri odovzdávaní hodnot funkciám je mo¾né pou¾i» preddefinované hodnoty
parametrov. Nastavovani preddefinovaných hodnôt je rovnaké ako v objektových
metódach programovania v jazyku C. Nasledovný príklad naznaèuje spôsob
urèenia preddefinovanej hodnoty:
</p><blockquote>&nbsp;
<br><tt>function objednavka( $kava = "cappucino." )</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; echo "Prosím si ¹álku kávy $kava.\n";</tt>
<br><tt>}</tt>
<br><tt>echo objednavka();</tt>
<br><tt>echo objednavka( "espresso." );</tt></blockquote>
Na obrazovku dostaneme výstup:
<p><tt>Prosím si ¹álku kávy cappucino.</tt>
<br><tt>Prosím si ¹álku kávy espresso.</tt>
<br>Existuje v¹ak urèité obmedzenie týkajúce sa pou¾itia viacerých argumentov.
Nie toti¾to mo¾né vynecháva» µubovolné argumrnty funkcie, lebo potom prekladaè
nedoká¾e rozlí¹i» ktorý argument sme vynechali a ktoré nie. Princíp je
taký, ¾e argumenty s preddefinovanými hodnotami sa uvádzajú a¾ na koniec
zoznamu argumentov funkcie.&nbsp; Vynecháva» potom mô¾eme argumenty len
od konca zoznamu.
</p><p><b>CLASS</b>
<br>Trieda (CLASS) patrí do skupiny premenných. Jedná sa typ podobný triedam
z klasického objektového programovania. Od skutoèných tried definujúcich
objekty v tomto prípade neexistuje rozdelenie
<br>Triedy v PHP nie sú a¾ také bezpeèné. Nepou¾íva sa tu rozdelenie na
<i>private,
public </i>a<i> protected.</i> Takisto pojem <i>dedenie</i> je nahradený
výsti¾nej¹ím pojmom <i>roz¹írenie </i>tried. Syntax je nasledovná:
</p><blockquote>&nbsp;
<br><tt>class MenoTriedy</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; definície premenných;&nbsp;&nbsp;&nbsp; //napr.
var $MenoPremennej;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; definície funkcií;</tt>
<br><tt>}</tt></blockquote>
Vytvorenie objektu z danej triedy je mo¾né nasledovne:
<blockquote>&nbsp;
<br><tt>$objekt = new MenoTriedy;</tt></blockquote>
Kde operátor <i>new</i> zabezpeèí alokovanie pamäte pre novovytvorený objekt.
Jednotlivé funkcie triedy (v PHP sa nehovorí o metódach) sú dostupné pou¾itím
operátora '-&gt;':
<br>&nbsp;
<dd>
<tt>$objekt-&gt;funkcia();</tt></dd>

<br>Ako u¾ bolo spomenuté triedy je mo¾né roz¹irova». Je to proces podobný
dedeniu v objektovo orientovaných metódach programovania. Roz¹írenie je
vlastne vytvorenie novej triedy s vyu¾itím pôvodnej, ku ktorej pridáme
ïal¹ie premenné a funkcie. Na vytvorenie roz¹írenej triedy pou¾ívame kµúèové
slovo <i>extends</i>:
<blockquote><tt>class MenoNovejTriedy extends MenoTriedy</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; definícia roz¹irujúcich premenných;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; definícia roz¹irujúcich funkcií;</tt>
<br><tt>}</tt></blockquote>
S takto vytvorenou triedou pracujeme ako s klasickou triedou prièom máme
prístup aj k pôvodným funkciám a premenným triedy. Nebola tu e¹te spomenutá
premenná (operátor) $this. Táto premenná reprezentuje aktuálny objekt.
Pou¾íva sa na prístup k èlenským premenným a funkciám danej triedy. Pokiaµ
teda chceme pri vytváraní funkcíí pre na¹u triedu pou¾íva» funkcie, alebo
premenné patriace tejto triede musíme k nim pritupova» pomocou tejto premennej.
Nasledujúci príklad ukazuje okrem pou¾itia tohto operátora aj ïal¹iu vlastnos»
tried, a tou je pou¾itie kon¹truktora. Jedná sa o ¹peciálnu funkciu ktorej
meno sa zhoduje s menom triedy. Táto funkcia sa volá automaticky pri vytváraní
objektu. Ak pou¾ijeme spomínané preddefinované hodnoty na ná¹ kon¹truktor,
dostaneme nástroj na inicializáciu základných hodnôt premenných na¹ej triedy
ako to ukazuje príklad:
<br><tt></tt>&nbsp;
<blockquote><tt>class konstruktor_test</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; var $prvky;&nbsp;&nbsp;&nbsp;&nbsp; // Pole
prvkov</tt><tt></tt>
<p><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; function pridaj_prvok($cislo_prvku,
$hodnota)&nbsp; // Add $num articles of $artnr to the cart</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$this-&gt;prvky[$cislo_prvku] += $hodnota;&nbsp;&nbsp;&nbsp; //pou¾itie $this
na prístup k premennej triedy</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</tt>
<br><tt>&nbsp;&nbsp;&nbsp; function konstruktor_test($a = "10", $b = 1)
//sú nastavené preddefinované hodnoty</tt>
<br><tt>&nbsp;&nbsp;&nbsp; {</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $this-&gt;pridaj_prvok($a,
$b);&nbsp;&nbsp;&nbsp; //volanie èlenskej funkcie</tt>
<br><tt>&nbsp;&nbsp;&nbsp; }</tt>
<br><tt>}</tt>
<br><tt>$objekt1&nbsp;&nbsp; = new konstruktor_test;&nbsp;&nbsp; //nastavia
sa prednastavené hodnoty</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
//súèasne
 s vytvorením objektu</tt>
<br><tt>$objekt2 = new konstruktor_test("20", 17);&nbsp;&nbsp;&nbsp; //volanie
kon¹truktora s konkretnymi hodnotami</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
//v
 tomto prípade dvôjde k prepísaniu</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
//prednastavených
 hodnoôt</tt></p></blockquote>
<a name="T58"></a><u><font size="+1">5.8. Operátory</font></u>
<p><b>Aritmetické operátory:</b>
<br>&nbsp;
</p><blockquote><tt><u>&nbsp;príklad&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; názov operátora</u></tt>
<br><tt>$a + $b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sèítanie</tt>
<br><tt>$a - $b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Odèítanie</tt>
<br><tt>$a * $b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Násobenie</tt>
<br><tt>$a / $b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delenie</tt>
<br><tt>$a % $b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Modulo</tt></blockquote>
<b>Re»azcové operácie</b>
<br>Patrí sem operátor konkatenácie, tj. spojenie dvoch re»azcov:
<blockquote><tt>$a="text1";</tt>
<br><tt>$b=$a."text2";&nbsp;&nbsp;&nbsp; //premenná $b bude obsahova» re»azec
"text1text2"</tt></blockquote>
<b>Operácie priradenia</b>
<br>Základným operátorom je operátor '=', operátor priradenia. Pou¾íva
sa v tvare:
<blockquote><tt>$premenná=hodnota;</tt></blockquote>
Kde hodnota mô¾e by» buï priamy údaj, alebo výraz, ktorého hodnota sa týmto
odovzdá premennej. Pomocou tohto operátora je mo¾né priraïova» v¹etky hodnoty,
tj. aj re»azce a polia, rovnako ako èíselné kon¹tanty. Je mo¾né ho pou¾i»
viacnásobne:
<blockquote><tt>$prem1=$prem2=hodnota;&nbsp;&nbsp;&nbsp; resp. $prem1=(prem2=3)+5</tt></blockquote>
V prvom prípade nahradíme obe premenné tou istou hodnotou. V druhom prípade
sa druhá premenná nastaví na hodnotu 3 a prvá na hodnotu 8. PHP pozná aj
roz¹írené operatóry priradenia, tj. operátor '=' spojený s niektorým z
ïal¹ích operátorov. Ide konkrétne o nasledovné mo¾nosti:
<p>+=&nbsp;&nbsp;&nbsp; premenej na lavej strane sa prièíta hodnota uvedená
na pravej strane
<br>-=&nbsp;&nbsp;&nbsp; odèítanie hodnoty od premennej
<br>*=&nbsp;&nbsp;&nbsp; násobenie premennej
<br>/=&nbsp;&nbsp;&nbsp;&nbsp; delenie premennej
<br>%=&nbsp; zvy¹ok po delení premennej
<br>.=&nbsp;&nbsp;&nbsp; pripojenie re»azca k premennej
</p><p><b>Bitové operátory</b>
<br>Tieto operátory pracujú s premennou v binárnom tvare a operácie vykonávajú
na bitoch jednotlivých hodnôt. Výsledkom takejto operácie je hodnota.
</p><blockquote><tt><u>príklad&nbsp;&nbsp;&nbsp; názov operátora</u></tt>
<br><tt>$a &amp; $b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;
- bitový súèin</tt>
<br><tt>$a | $b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR&nbsp;&nbsp;&nbsp;
- bitový súèet</tt>
<br><tt>~$a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NOT&nbsp;&nbsp; - bitová negácia</tt></blockquote>
<b>Logické operátory</b>
<br>Tieto operátory pracujú s premennou ako s hodnotou a výsledkom je logická
hodnota TRUE alebo FALSE.
<blockquote><tt><u>príklad&nbsp;&nbsp;&nbsp; názov operátora</u></tt>
<br><tt>$a and $b&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp; - logický súèin</tt>
<br><tt>$a of&nbsp; $b&nbsp;&nbsp;&nbsp; OR&nbsp;&nbsp;&nbsp;&nbsp; - logický
súèet</tt>
<br><tt>$a xor $b&nbsp;&nbsp;&nbsp; OR&nbsp;&nbsp;&nbsp;&nbsp; - logický
exkluzívny súèet</tt>
<br><tt>!$a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NOT&nbsp;&nbsp;&nbsp;
- logická negácia</tt>
<br><tt>$a &amp;&amp;&nbsp; $b&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;
- logický súèin</tt>
<br><tt>$a ||&nbsp; $b&nbsp;&nbsp;&nbsp; OR&nbsp;&nbsp;&nbsp;&nbsp; - logický
súèet</tt></blockquote>
<b>Operátory porovnania</b>
<br>Operátory porovnania slú¾ia na porovnávanie dvoch rovnakých hodnôt,
prièom výsledkom je logická hodnota TRUE alebo FALSE.
<blockquote><tt><u>príklad&nbsp;&nbsp;&nbsp; názov operátora</u></tt>
<br><tt>$a == $b&nbsp;&nbsp;&nbsp; test na rovnos»</tt>
<br><tt>$a != $b&nbsp;&nbsp;&nbsp; test na nerovnos»</tt>
<br><tt>$a &lt;&nbsp; $b&nbsp;&nbsp;&nbsp; test èi hodnota na µavej strane
je men¹ia ako na pravej</tt>
<br><tt>$a&nbsp; &gt; $b&nbsp;&nbsp;&nbsp; test èi hodnota na µavej strane
je väè¹ia ako na pravej</tt>
<br><tt>$a &lt;= $b&nbsp;&nbsp;&nbsp; test èi hodnota na µavej strane je
men¹ia alebo rovná ako na pravej</tt>
<br><tt>$a &gt;= $b&nbsp;&nbsp;&nbsp; test èi hodnota na µavej strane je väè¹ia
alebo rovná ako na pravej</tt></blockquote>
<a name="T6"></a><b><u><font size="+1">6. Popis základných funkcií jazyka
PHP</font></u></b>
<p>V nasledovnej budú popísané niektoré základné funkcie pre prácu s PHP.
Z dôvodu veµkého rozsahu tejto èasti uvádzam len zbe¾né informácie. Pokiaµ
máte záujem o podrobnej¹ie informácie, tak si pozrite prilo¾enú dokumentáciu
k jazyku. [4][5]
</p><blockquote>6.1.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie zamerané pre APACHE
<br>6.2.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie pre prácu s poliami
<br>6.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Funkcie pre prácu s kalendárom
<br>6.4.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie pre prácu s èasom a dátumom
<br>6.5.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie pre prácu s adresármi
<br>6.6.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie na spú¹»anie programov
<br>6.7.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie pre prácu so súborovým systémom
<br>6.8.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie urèené pre HTTP protokol
<br>6.9.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie pre prácu s obrázkami
<br>6.10.&nbsp; Informaèné a riadiace funkcie PHP
<br>6.11.&nbsp; Funkcie pre elektronickú po¹tu
<br>6.12.&nbsp; Matematické funkcie
<br>6.13.&nbsp;&nbsp; Sie»ové funkcie
<br>6.14.&nbsp;&nbsp; Funkcie pre regulárne výrazy
<br>6.15.&nbsp;&nbsp; Funkcie prep rácu s re»azcami
<br>6.16.&nbsp;&nbsp; Funkcie na prácu s URL adresami
<br>6.17.&nbsp;&nbsp; Funkcie na prácu s premennými
<br>6.18.&nbsp;&nbsp; Funkcie pre prácu s gzipovanými súbormi</blockquote>
<a name="T61"></a><font size="+1">6.1.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie zamerané
pre APACHE</font>
<br><b>virtual - </b>vykonáva sub-po¾iadavku Apache -a
<br>int virtual(string filename);
<p><b>getallheaders -</b> navracia v¹etky hlavièky HTTP súèasnej po¾iadavky
<br>array getallheaders(void);
<br>príklad:
</p><blockquote><tt>$headers = getallheaders();</tt>
<br><tt>while (list($hlavièka, $hodnota) = each($hlavièka))</tt>
<br><tt>&nbsp;&nbsp;&nbsp; echo "$hlavièka: $hodnota&lt;br&gt;\n";</tt></blockquote>
<b>apache_note - </b>naèítanie a nastavenie záznamov APACHE -a
<br>string apache_note(string note_name, string [note_value]);
<br>Ak sa táto funkcia volá s jedným argumentom, tak sa údaje naèítavajú.
Ak sa pou¾ijú oba záznamy, údaj esa preèítajú a prepí¹u.<font size="+1"></font>
<p><a name="T62"></a><font size="+1">6.2.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie
pre prácu s poliami</font>
<br><b>array </b>- vytvorenie poµa
<br>array array(...);
<br>Jednotlivé parametre poµa je mo¾né&nbsp; indexova» pomocou operátora
=&gt;. Príklad:
</p><blockquote><tt>$ovocie = array(</tt>
<br><tt>&nbsp;&nbsp;&nbsp; "ovocie"&nbsp; =&gt; array("a"=&gt;"pomaranc","b"=&gt;"banan","c"=&gt;"jablko"),</tt>
<br><tt>&nbsp;&nbsp;&nbsp; "cisla" =&gt; array(1, 2, 3, 4, 5, 6)</tt>
<br><tt>&nbsp;&nbsp;&nbsp; "pozicie"&nbsp;&nbsp; =&gt; array("prva", 5 =&gt;
"druha", "tretia")</tt>
<br><tt>);</tt></blockquote>
<b>array_walk -</b> pou¾itie funkcie n av¹etky prvky poµa
<br>int array_walk(array arr, string func);
<p><b>arsort - </b>triedenie poµa v opaènom poradí s dodr¾aním asociatívnosti
indexov.
<br>oid arsort(array pole);
</p><p><b>asort -</b> triedenie poµa
<br>void asort(array array);
</p><p><b>count </b>- spoèítanie prvkov premennej
<br>int count(mixed var);
<br>Ak premenná nie je definovaná tak sa vráti 0 a ak premenná nie je pole,
tak vráti 1
</p><p><b>current -</b> vráti aktuálny prvok v poli
<br>mixed current(array array);
</p><p><b>each </b>- vráti nasledovný index/ hodnotu z poµa
<br>array each(array array);
</p><p><b>end - </b>nastaví vnútorný ukazovateµ poµa na koniec
<br>end(array array);
</p><p><b>key - </b>vyberie kµúè z asociatívneho poµa
<br>mixed key(array array);
</p><p><b>ksort - </b>triedi pole podµa kµúèa
<br>int ksort(array array);
</p><p><b>list </b>- priradí hodnoty z poµa do premenných uvedených ako argumenty
tejto funkcie.
<br>void list(...);
</p><p><b>next</b> - posunie vnútorný ukazovateµ poµa o jednu hodnotu ïalej
<br>mixed next(array array);
</p><p><b>pos</b> - vráti aktuálny prvok poµa, je to ekvivalent funkcie current();
<br>mixed pos(array array);
</p><p><b>prev</b> - posunie vnútorný ukazovateµ poµa o jeden krok dozadu
<br>mixed prev(array array);
</p><p><b>reset</b> - resetovanie vnútorného ukazovateµa poµa, tj. nastaví
ho na zaèiatok poµa
<br>reset(array array);
</p><p><b>rsort - </b>triedenie poµa v obrátenom poradí
<br>void rsort(array array);
</p><p><b>sizeof</b> - vráti poèet elementov poµa
<br>int sizeof(array array);
</p><p><b>sort -</b> triedenie poµa
<br>void sort(array array);
</p><p><b>usort</b> - triedenie poµa s pou¾itím pou¾ívateµom definovanej funkcie
porovnávania
<br>void usort(array array, function cmp_function);
</p><p>príklad:
</p><dd>
<tt>function cmp($a,$b)</tt></dd>

<dd>
<tt>{</tt></dd>

<dd>
<tt>&nbsp;&nbsp;&nbsp; if($a==$b) return 0;</tt></dd>

<dd>
<tt>&nbsp;&nbsp;&nbsp; return ($a&gt;$b) ? -1:1;</tt></dd>

<dd>
<tt>}</tt></dd>

<dd>
<tt>$a = array(3,2,5,6,1);</tt></dd>

<dd>
<tt>usort($a,cmp);</tt></dd>

<dd>
<tt>while(list($kµúè,$hodnota) = each($a))</tt></dd>

<dd>
<tt>{</tt></dd>

<dd>
<tt>&nbsp;&nbsp;&nbsp; echo "$kµúè: $hodnota\n";</tt></dd>

<dd>
<tt>}</tt></dd>

<br>Tento príklad vypí¹e nasledovné hodnoty:
<br>0: 6 1: 5 2: 3 3: 2 4: 1
<p><a name="T63"></a><font size="+1">6.3.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie
pre prácu s èasom a dátumom</font>
<br><b>checkdate</b> - testuje èi zadaný dátum má správny formát
<br>int checkdate(int month, int day, int year);
</p><p>rok je akceptovaný v rozhraní: 1900 - 32767
<br>mesiac mô¾e by» z intervalu: 1 - 12
<br>deò je povolený podµa urèeného roku a mesiaca
</p><p><b>date</b> - formátovanie a lokalizácia èasu a dátumu
<br>string date(string format, int timestamp);
</p><p>v textovom re»azci <i>formát&nbsp;</i> sa mô¾u nachádza» nasledovné
znaky:
</p><p>&nbsp;&nbsp;&nbsp; U - sekundy
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; Y - rok 4 èíslice
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; y - rok 2 èíslice
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; F - mesiac, dlhý textový formát
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; M - mesiac, krátky 3 - znakový textový formát
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; m - mesiac v èíselnej forme
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; z - deò v roku v èíselnej forme (1 - 365)
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; d - deò v mesiaci v èíselnej forme s doplnením
poèiatoèných núl
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; j -deò v mesiaci v èíselnej forme bez doplnenia
poèiatoèných núl
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; l (malé 'L') - deò v tý¾dni v dlhej textovej
forme
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; D - deò v tý¾dni v krátkej 3 - znakovej textovej
forme
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; w -deò v tý¾dni v èíselnej forme - jedna èíslica
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; H - hodina, èíselný tvar, 24 hodinový formát
</p><p>&nbsp;&nbsp;&nbsp; h - hodina, èíselný tvar, 12 hodinový formát
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; i - minúty, èíselný tvar
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; s - sekundy, èíselný tvar
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; A - "AM" alebo&nbsp; "PM"
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; a - "am" alebo "pm"
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; S - anglická rádová prípona, text, 2 znaky,&nbsp;
"th" alebo "nd"
</p><p>Príklad pou¾itia:
</p><blockquote><tt>print(date( "l dS of F Y h:i:s A" ));</tt></blockquote>
<b>strftime </b>- formátovanie èasu a dátumu podµa nastavenia lokalizácie
<br>string strftime(string format, int timestamp);
<p>Je mo¾né pou¾i» nasledovné formátovacie výrazy:
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %a -skrátený názov dòa v tý¾dni podµa lokalizácie
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %A - plný názov dòa v tý¾dni podµa lokalizácie
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %b - skrátený názov mesiaca&nbsp; podµa lokalizácie
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %B - plný názov mesiaca&nbsp; podµa lokalizácie
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %c - na základe lokalizácie definovaný formát
èasu a dátumu
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %d - deò v mesiaci v rozmedzí od&nbsp; 0 do
31
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %H - hodiny v numerickom tvare, 24-hodinový
formát (rozsah 00 to 23)
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %I - hodiny v numerickom tvare,&nbsp; 12-hodinový
formát (rozsah 01 to 12)
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %j - ïeò v roku, numerický formát(rozsah 001
a¾ 366)
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %m - mesiac v numerickom tvare (rozsah 1 a¾
12)
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %M - minúty
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %p - symbol&nbsp; `am' alebo `pm' v tvare predpísanom
príslu¹nou lokalizaènou normou
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %S - sekundy
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %U - èíslo tý¾dòa pre súèasný rok, kde tý¾deò
zaèína v nedeµu
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %W - èíslo mesiaca v súèasnom roku, kde tý¾deò
zaèína v pondelok
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %w - èíslo dòa v tý¾dni so zaèiatkom v nedeµu
(0)
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %x - na základe lokalizácie definovaný formát
dátumu
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %X - na základe lokalizácie definovaný formát
èasu
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %y - èíslo roku, 2 èíslice (rozsah 00 a¾ 99)
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %Y - èíslo roku, 4 èíslice
</p><p>&nbsp;&nbsp;&nbsp;&nbsp; %Z - èasová zóna
</p><p>&nbsp;&nbsp;&nbsp; %% - znak `%'
</p><p>príklad:
<br>setlocale ("LC_TIME", "sk");
</p><blockquote><tt>print(strftime("%A&nbsp; - deò v tý¾dni po slovensky."));</tt></blockquote>
<b>getdate </b>- vráti informácie o èase a dátume
<br>array getdate(int timestamp);
<br>výstupné pole obsahuje nasledovné polo¾ky:
<p>"seconds", "minutes", "hours", "mday", "wday", "mon", "year", "yday",
"weekday", "month"
</p><p><b>gmdate </b>- formát GMT a CUT dátumu a èasu
<br>string gmdate(string format, int timestamp);
</p><p><b>mktime -</b> vytvorenie èasu a dátumu UNIXu (timestamp)
<br>int mktime(int hour, int minute, int second, int month, int day, int
year);
</p><p><b>gmmktime - </b>vytvorenie èasu a dátumu UNIXu v tvare GMT
<br>int gmmktime(int hour, int minute, int second, int month, int day,
int year);
</p><p><b>time - z</b>istenie aktuálneho èasu a dátumu
<br>int time(void);
</p><p><b>microtime</b> - vráti èas a dátum roz¹írený o informáciu o milisekundách
<br>string microtime(void);
</p><p><a name="T64"></a><font size="+1">6.4.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie
pre prácu s adresármi</font>
<br><b>chdir -</b> nastavenie adresára
<br>int chdir(string directory);
</p><p><b>dir - </b>trieda adresár
<br>new dir(string directory);
<br>Táto trieda obsahuje dva premenné: <i>handle</i> a <i>path</i>.
</p><p><b>closedir -</b> uzavrie smerník na adresár (handle)
<br>void closedir(int dir_handle);
</p><p><b>opendir - </b>otvorí smerník na adresár
<br>int opendir(string path);
</p><p><b>readdir - </b>naèíta meno ïal¹ieho súboru v adresáry urèenom smerníkom
<br>string readdir(int dir_handle);
</p><p><b>rewinddir -</b> nastaví sa na prvý súbor v adresáry
<br>oid rewinddir(int dir_handle);
</p><p><a name="T65"></a><font size="+1">6.5.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie
na spú¹»anie programov</font>
<br><b>escapeshellcmd</b> - o¹etrí re»azec od ¹preciálnych riadiacich znakov,
pomocou ktorých by bolo mo¾né zneu¾i» spustenie shellu.
<br>string escapeshellcmd(string command);
</p><p><b>exec </b>- spustí externý program, návratovou hodnotou je posledný
riadok zo ¹tanderdného výstupu spusteného programu
<br>string exec(string command, string [array], int [return_var]);
</p><p><b>system - </b>spustí externý program a zobrazí jeho výstup
<br>string system(string command, int [return_var]);
</p><p><b>passthru</b> - spustí externý program a jeho výstup vráti v nespracovanom
tvare. Návratovú hodnotu ulo¾í do premennej uvedenej ako druhý argument.
Je mo¾né pou¾i» túto funkciu napr. na zobrazovanie obrázkov, samozrejme
ak sa v7stup správne uvedie pomocou <i>content-type</i>.
<br>string passthru(string command, int [return_var]);
</p><p><a name="T66"></a><font size="+1">6.6.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie
pre prácu so súborovým systémom</font>
<br><b>basename</b> - vráti názov súboru zo ¹pecifikovanej cesty
<br>string basename(string path);
</p><p><b>chgrp -</b> nastaví skupinu (group) pre súbor
<br>int chgrp(string filename, mixed group);
</p><p><b>chmod</b> - nastaví prístupové práva k súboru
<br>int chmod(string filename, int mode);
</p><p><b>chown</b> - nastavenie vlastníka súboru
<br>int chown(string filename, mixed user);
</p><p><b>clearstatcache - </b>zru¹í informácie o posledne spustenom programe
<br>void clearstatcache(void);
</p><p><b>copy</b> - kopíruje súbor
<br>int copy(string source, string dest);
</p><p><b>dirname - </b>vráti adresárovú èas» ¹pecifikovanej cesty k súboru.
Adresáre sú oddeµované znakmi "/" alebo "\"
<br>string dirname(string path);
</p><p><b>fclose -</b> uzavrie smerník na súbor
<br>int fclose(int fp);
</p><p><b>feof</b> - testuje smerník na súbor na dosiahnutie konca súboru
<br>int feof(int fp);
</p><p><b>fgetc</b> - naèíta znak zo súboru
<br>string fgetc(int fp);
</p><p><b>fgets</b> - naèíta riadok zo súboru, max. då¾ky <i>length. </i>Èítanie
konèí znakom nového riadka, alebo pri dosiahnutí konca súboru.
<br>string fgets(int fp, int length);
</p><p><b>fgetss - </b>naèíta riadok zo súboru s vynechaním HTML príkazov a
znaèiek, max. då¾ky <i>length. </i>Èítanie konèí znakom nového riadka,
alebo pri dosiahnutí konca súboru
<br>string fgetss(int fp, int length);
</p><p><b>file</b> - naèíta celý súbor do poµa
<br>array file(string filename);
</p><p><b>file_exists</b> - testuje èi daný súbor existuje
<br>nt file_exists(string filename);
</p><p><b>fileatime</b> - zistenie èasu posledného prístupu k súboru
<br>int fileatime(string filename);
</p><p><b>filectime</b> - vráti èas modifikácie súboru udaného príslu¹nou inódou
súboru
<br>int filectime(string filename);
</p><p><b>filegroup</b> - zistí akej skupine pou¾ívateµov prislúcha daný súbor
<br>int filegroup(string filename);
</p><p><b>fileinode</b> - vráti èíslo inódy daného súboru
<br>int fileinode(string filename);
</p><p><b>filemtime</b> - vrá ti èas poslednej modifikácie súboru
<br>int filemtime(string filename);
</p><p><b>fileowner</b> - vráti identifikaèné èíslo vlastníka súboru
<br>int fileowner(string filename);
</p><p><b>fileperms</b> - zistí prístupové práva k súboru
<br>int fileperms(string filename);
</p><p><b>filesize</b> - zistí veµkos» súboru
<br>int filesize(string filename);
</p><p><b>filetype</b> - zistí typ súboru. Platné hopdnoty sú fifo, char, dir,
block, link, file a unknown
<br>string filetype(string filename);
</p><p><b>fopen</b> - otvorí súbor alebo URL adresu(ak meno súboru zaèína re»azcom
<i>http://,</i>
alebo<i><b> </b>ftp://</i>)<i>.</i>
<br>int fopen(string filename, string mode);
</p><p>Sú povolené nasledovné prístupové módy:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'r' - len pre èítanie, smerník súboru
sa nastaví na zaèiatok,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'r+' - pre èítanie a zápis, smerník
na súbor sa nastaví na zaèiatok súboru,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'w' -&nbsp; pre zápis, existujúci súbor
sa prepí¹e, ak súbor neexistuje, tak sa vytvorí nový,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'w+' - pre èitanie a zápis, smerník
súbporu sa nastaví na zaèiatok, existujúci súbor sa prepí¹e, ak súbor neexistuje,
tak sa vytvorí nový,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'a' - otvorenie pre zápis, smerník na
súbor sa nastaví na koniec súboru, ak súbor neexistuje vytvorí sa nový
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'a+' - otvorenie pre zápis, a èitanie,&nbsp;
smerník na súbor sa nastaví na koniec súboru, ak súbor neexistuje vytvorí
sa nový
</p><p>V móde súpboru mô¾e by» uvedený znak <i>b, </i>ktorý urèuje ¾e k súboru
sa bude pristupova» ako k binárnemu. Pri systémoch, ktoré nerozli¹ujú súbory
na binárne a textové sa mô¾e tento znak vynecha».
</p><p><b>fpassthru</b> - po¹le celý zvy¹ný obsah súboru na ¹tandardný výstup
<br>int fpassthru(int fp);
</p><p><b>fputs</b> - zapí¹e re»azec do súboru
<br>int fputs(int fp, string str, int [length]);
</p><p><b>fread</b> - èítanie zo súboru v binárnom móde
<br>string fread(int fp, int length);
</p><p><b>fseek</b> - nastavenie smerníka súboru
<br>int fseek(int fp, int offset);
</p><p><b>ftell</b> - zistenie pozície v súbore (smerník súboru)
<br>int ftell(int fp);
</p><p><b>fwrite</b> - zápis do súboru v binárnom móde
<br>int fwrite(int fp, string string, int [length]);
</p><p><b>is_dir</b> - zistí èi daný adresár existuje
<br>bool is_dir(string filename);
</p><p><b>is_executable</b> - zistí èi súbor je spustiteµný
<br>bool is_executable(string filename);
</p><p><b>is_file</b> - zistí, èi súbor existuje a je správny
<br>bool is_file(string filename);
</p><p><b>is_link</b> - zistí, èi súbor je symbolická linka
<br>bool is_link(string filename);
</p><p><b>is_readable</b> - zistí, èi súbor má povolené práva pre èítanie
<br>bool is_readable(string filename);
</p><p><b>is_writeable</b> -&nbsp; zistí, èi súbor je mo¾né èíta», èi má povolené
práva pre èítanie
<br>bool is_readable(string filename);
</p><p><b>link</b> - vytvorenie tvrdej linky
<br>int link(string target, string link);
</p><p><b>linkinfo</b> - zistenie informácii o linke
<br>int linkinfo(string path);
</p><p><b>mkdir</b> - vytvorenie adresára
<br>int mkdir(string pathname, int mode);
</p><p><b>pclose</b> - uzavretie smerníka rúry
<br>int pclose(int fp);
</p><p><b>popen</b> - otvorí rúru na proces uvedený ako argument
<br>int popen(string command, string mode);
</p><p><b>readfile</b> - naèíta súbor a vypí¹e ho na ¹tandardný výstup
<br>int readfile(string filename);
</p><p><b>readlink</b> - zistí kam smeruje linka
<br>int readlink(string path);
</p><p><b>rename</b> - premenovanie súboru
<br>int rename(string oldname, string newname);
</p><p><b>rewind</b> - nastaví smerník súboru na zaèiatok
<br>nt rewind(int fp);
</p><p><b>rmdir</b> - zmazanie adresára
<br>int rmdir(string dirname);
</p><p><b>stat</b> - získanie informácii o súbore
<br>array stat(string filename);
<br>Navrátené pole obsahuje nasledovné návestia:
<br>&nbsp;&nbsp; 1. zariadenie
<br>&nbsp;&nbsp; 2. inóda
<br>&nbsp;&nbsp; 3. poèet liniek
<br>&nbsp;&nbsp; 4. identifikaèné èíslo vlastníka súboru
<br>&nbsp;&nbsp; 5. èíslo skupiny do ktorej patrí súbor
<br>&nbsp;&nbsp; 6. typ zariadenia ak je to inódové zariadenie *
<br>&nbsp;&nbsp; 7. veµkos» v bajtoch
<br>&nbsp;&nbsp; 8. èas posledného prístupu
<br>&nbsp;&nbsp; 9. èas poslednej zmeny
<br>&nbsp; 10. èas poslednej úpravy
<br>&nbsp; 11. veµkos» bloku pre V/V operácie
<br>&nbsp; 12. poèet alokovaných blokov
<br>* - nastavené len v sytémoch podporujúcich blokový prístup inak (napr.
pre MS Windows) vráti hodnotu -1
</p><p><b>lstat</b> - vráti informácie o súbore alebo symbolickej linke
<br>array lstat(string filename);
<br>Návratové hodnoty viï. príkaz <i>stat</i>
</p><p><b>symlink</b> - vytvorenie symbolickej linky
<br>int symlink(string target, string link);
</p><p><b>tempnam</b> - vytvorenie ¹peciálneho - e¹te neexistujúceho mena súboru
<br>string tempnam(string dir, string prefix);
</p><p><b>touch</b> - nastavenie èasu modifikácie pre súbor
<br>int touch(string filename, int time);
</p><p><b>umask</b> - nastavenie, alebo získanie (pou¾itie funkcie bez parametrov)
PHP umask-u
<br>int umask(int mask);
</p><p><b>unlink</b> - zmaznaie súboru
<br>int unlink(string filename);
</p><p><a name="T67"></a><font size="+1">6.7.&nbsp;&nbsp;&nbsp;&nbsp; Funkcie
urèené pre HTTP protokol</font>
<br><b>header</b> - po¹le HTTP hlavièku v priamom tvare
<br>int header(string string);
</p><p>Príklad:
<br>Header("Location: http://www.php.net");&nbsp; /* presmerovanie stránky
*/
<br>exit;
</p><p><b>setcookie</b> - po¹le <i>cookie</i> prehliadaèu
<br>int setcookie(string name, string value, int expire, string path, string
domain, int secure);
</p><p>Ulo¾ená hodnota premennej sa automaticky naèíta pod tým istým menom
pri ïal¹om volaní.
</p><p><a name="T68"></a><font size="+1">6.8.&nbsp; Informaèné a riadiace funkcie
PHP</font>
<br><b>error_log</b> - za¹le chybovú správu na urèené miesto
<br>int error_log(string message, int message_type, string [destination],
string [extra_headers]);
</p><p><b>error_reporting</b> - urèenie, ktoré chyby sa budú hlási»
<br>int error_reporting(int [level]);
</p><p><b>getenv </b>- zistenie hodnoty premennej prostredia
<br>string getenv(string varname);
</p><p><b>get_cfg_var</b> - zistenie hodnoty konfiguraènej premennej PHP
<br>string get_cfg_var(string varname);
</p><p><b>get_current_user</b> - zistenie mena vlastníka be¾iaceho PHP skriptu
<br>string get_current_user(void);
</p><p><b>getlastmod</b> - zistenie èasu modifikácie poslednej stránky
<br>int getlastmod(void);
</p><p><b>getmyinode</b> - zistenie inódy aktuálneho skriptu
<br>int getmyinode(void);
</p><p><b>getmypid</b> - zistenie PID (identifikaèné èíslo procesu) PHP procesu
<br>int getmypid(void);
</p><p><b>getmyuid</b> - zistenie UID vlastníka PHP skriptu
<br>int getmyuid(void);
</p><p><b>phpinfo</b> - v upravených tabuµkaách vráti v¹etky informácie, ktoré
má be¾iaci PHP skript k dispozícii
<br>int phpinfo(void);
</p><p><b>phpversion</b> - zistenie aktuálnej verzie PHP
<br>string phpversion(void);
</p><p><b>putenv</b> - nastavenie hodnoty premennej prostredia
<br>void putenv(string setting);
</p><p><b>set_time_limit</b> - nastavenie èasového limitu, poèas ktorého sa
mô¾e skript vykonáva»
<br>void set_time_limit(int seconds);
</p><p><a name="T69"></a><font size="+1">6.9.&nbsp; Funkcie pre elektronickú
po¹tu</font>
<br><b>mail</b> - poslanie elektronickej po¹ty
<br>void mail(string to, string subject, string message, string additional_headers);
</p><p>príklad:
<br>mail("kpi@fei.tuke.sk", "Pozdrav z PHP", "Riadok 1\nRiadok 2\nRiadok
3");
</p><p><a name="T610"></a><font size="+1">6.10.&nbsp; Matematické funkcie</font>
<br><b>Abs</b> - absolútna hodnota
<br>mixed abs(mixed number);
</p><p><b>Acos</b> - oblúkový kosínus
<br>float acos(float arg)
</p><p><b>Asin - </b>oblúkový sínus
<br>float asin(float arg);
</p><p><b>Atan</b> - oblúkový tangens
<br>float atan(float arg);
</p><p><b>BinDec</b> - konverzia re»azca binárnych èísel na celoèíselný typ
<br>int bindec(string binary_string);
</p><p><b>Cos</b> - kosínus
<br>float cos(float arg);
</p><p><b>DecBin</b> - konverzia celého èísla na re»azec binárnych èísel
<br>string decbin(int number);
</p><p><b>DecHex</b> - konverzia celého èísla na re»azec hexadecimálnych èíslic
<br>string dechex(int number);
</p><p><b>DecOct - </b>konverzia celého èísla na re»azec osmièkových èíslic
<br>string decoct(int number);<b></b>
</p><p><b>Exp </b>- exponenciálna funkcia
<br>float exp(float arg);
</p><p><b>HexDec</b> - konverzia re»azca hexadecimálnych èíslic na celé èíslo
<br>int hexdec(string hex_string);
</p><p><b>Log</b> - prirodzený logaritmus
<br>float log(float arg);
</p><p><b>Log10</b> - desiatkový logaritmus
<br>float log10(float arg);
</p><p><b>max</b> - nájde maximálnu hodnotu z hodnôt argumentov tejto funkcie
<br>mixed max(mixed arg1, mixed arg2, mixed argn);
</p><p><b>min</b> - nájde minimálnu hodnotu z hodnôt argumentov tejto funkcie
<br>mixed min(mixed arg1, mixed arg2, mixed argn);
</p><p><b>OctDec</b> - konverzia re»azca osmièkových èíslic na celé èíslo
<br>int octdec(string octal_string);
</p><p><b>pi</b> - získanie hodnoty kon¹tanty PI
<br>double pi(void );
</p><p><b>pow</b> - mocninová funkcia
<br>float pow(float base, float exp);
</p><p><b>round</b> - zaokrúhlenie hodnoty desatinného èísla
<br>double round(double val);
</p><p><b>Sin</b> - sínus
<br>float sin(float arg);
</p><p><b>Sqrt</b> - druhá odmocnina
<br>float sqrt(float arg);
</p><p><b>Tan</b> - tangens
<br>float tan(float arg);
</p><p><a name="T611"></a><font size="+1">6.11.&nbsp; Funkcie pre prácu so sie»ou</font>
<br><b>fsockopen</b> - otvorí socketové spojenie pre internetovskú, resp.
UNIXovú doménu
<br>int fsockopen(string hostname, int port, int [errno], string [errstr]);
</p><p>Príklad:
</p><blockquote><tt>$fp = fsockopen("www.php.net", 80, &amp;$errno, &amp;$errstr);</tt>
<br><tt>if(!$fp)</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; echo "$errstr ($errno)&lt;br&gt;\n";</tt>
<br><tt>}</tt>
<br><tt>else</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp; fputs($fp,"GET / HTTP/1.0\n\n");</tt>
<br><tt>&nbsp;&nbsp; while(!feof($fp))</tt>
<br><tt>&nbsp;&nbsp; {</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo fgets($fp,128);</tt>
<br><tt>&nbsp;&nbsp; }</tt>
<br><tt>&nbsp;&nbsp; fclose($fp);</tt>
<br><tt>}</tt></blockquote>
<b>set_socket_blocking</b> - nastavenie blokovacieho módu pre sockety
<br>int set_socket_blocking(int socket descriptor, int mode);
<p><b>gethostbyaddr</b> - zistenie mena poèítaèa&nbsp; na základe jeho
IP adresy
<br>string gethostbyaddr(string ip_address);
</p><p><b>gethostbyname </b>- zistenie IP adresy na základe zadaného mena poèítaèa
<br>string gethostbyname(string hostname);
</p><p><b>gethostbynamel</b> - zoznam IP adries prislúchajúcich uvedenému menu
poèítaèa
<br>array gethostbynamel(string hostname);
</p><p><b>checkdnsrr</b> - overí DNS záznam zodpovedajúci menu, resp. IP adresa
poèítaèa
<br>int checkdnsrr(string host, string [type]);
</p><p>kde typ mô¾e by» jeden z A, MX, NS, SOA, PTR, CNAME, alebo&nbsp; ANY.
Prednastavená je hodnota&nbsp; MX.
<br>Na mieste mena poèítaèa mô¾e by» uvedená aj IP adresa
</p><p><b>getmxrr</b> - zistí tzv. MX záznam zodpovedajúci internetovskému
názvu
<br>int getmxrr(string hostname, array mxhosts, array [weight]);
</p><p><b>openlog</b> - nadvia¾e spojenie so systémovým zanamenávaèom udalostí
<br>void openlog(string ident, int option, int facility);
</p><p><b>syslog</b> - generuje systémové hlásenie
<br>void syslog(int priority, string message);
</p><p><b>closelog</b> - uzatvorí spojenie so systémovým zaznamenávaèom udalostí
<br>int closelog(void);
</p><p><b>debugger_on - </b>povolí interný PHP debugger
<br>void debugger_on(string address);
<br>Kde adresa je internetovská adresa
</p><p><b>debugger_of</b>f - zaká¾e debugger
<br>void debugger_off(void);
<br>&nbsp;
</p><p><a name="T612"></a><font size="+1">6.12.&nbsp;&nbsp; Funkcie pre regulárne
výrazy</font>
<br><b>ereg&nbsp;</b> - regulárny výraz
<br>int ereg(string pattern, string string, array [regs]);
</p><p>Príklad:
</p><blockquote><tt>if ( ereg( "([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})", $date,
$regs ) )</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; echo "$regs[3].$regs[2].$regs[1]";</tt>
<br><tt>}</tt>
<br><tt>else</tt>
<br><tt>{</tt>
<br><tt>&nbsp;&nbsp;&nbsp; echo "Nesprávny formát dátumu: $date";</tt>
<br><tt>}</tt></blockquote>
<b>ereg_replace -</b> regulárny výraz pou¾itý pre nahradzovanie re»azcov
<br>string ereg_replace(string pattern, string replacement, string string);
<p><b>eregi</b> - regulárny výraz rozoznávajúci veµké a malé písmená
<br>int eregi(string pattern, string string, array [regs]);
</p><p><b>eregi_replace</b> - analógia <i>ereg_replace</i> s rozoznávaním veµkých
a malých písmen
<br>string eregi_replace(string pattern, string replacement, string string);
</p><p><b>split</b> - rozlo¾enie re»azca do poµa podµa regulárneho výrazu
<br>array split(string pattern, string string, int [limit]);
</p><p>Príklad:
</p><blockquote><tt>$passwd_list = split( ":", $passwd_line, 5 );</tt></blockquote>

<p><br><a name="T613"></a><font size="+1">6.13.&nbsp;&nbsp; Funkcie pre prácu
s re»azcami</font>
<br><b>AddSlashes -</b>pridá do re»azca znaky "\" pred riadiace znaky.
Niektoré znaky majú ¹peciálny význam a nemô¾u by» pou¾ité samostatne.
<br>string addslashes(string str);
</p><p><b>Chr -</b> vráti znak prísluchajúci ASCII hodnote
<br>string chr(int ascii);
</p><p><b>crypt</b> - zakódovanie re»azca pomocou UNIX DES kódovania, parametrami
sú re»azec urèený na zakódovanie a chcarakteristické slovo.
<br>string crypt(string str, string [salt]);
</p><p><b>echo -&nbsp;</b> vypí¹e jeden, alebo viac re»azcov
<br>echo(string arg1, string [argn]...);
</p><p><b>explode</b> - rozdelí re»azec na podµa podre»azcov (oddelovaèov)
<br>array explode(string separator, string string);
</p><p><b>htmlspecialchars - </b>konvertuje ¹peciálne znaky na znaèky HTML
<br>string htmlspecialchars(string string);
</p><p>V súèasnej dobe ide o znaèky: &amp; ( &amp;amp;), " (&amp;quot), &lt;
(&amp;lt), &gt; (&amp;gt)
</p><p><b>implode</b> - vygeneruje z pola re»azec, oddelený oddeµovacím re»azcom
<br>string implode(array pieces, string glue);
</p><p><b>join</b> - pripojí k re»azcu prvky poµa
<br>string join(array pieces, string glue);
</p><p><b>ltrim -</b> vypustí medzery zo zaèiatku re»azca
<br>string ltrim(string str);
</p><p><b>nl2br</b> - konvertuje znaky nového riadku na ich formát HTML (znaèky
&lt;BR&gt; )
<br>string nl2br(string string);
</p><p><b>Ord</b> - vráti ASCII hodnotu znaku
<br>int ord(string string);
</p><p><b>print -</b> vypí¹e re»azec
<br>print(string arg);
</p><p><b>printf</b> - vypí¹e formátovaný re»azec
<br>int printf(string format, mixed [args]...);
</p><p><b>rawurldecode</b> - rozkóduje re»azec z tvaru urèeného pre URL
<br>string rawurldecode(string str);
</p><p>Ide o rozkódovanie sekvencií v tvare %XX, kde XX sú hexa èíslice.
</p><p><b>rawurlencode</b> - zakódovanie re»azca do tvaru URL
<br>string rawurlencode(string str);
</p><p><b>setlocale</b> - nastavenie lokalizaèných premenných
<br>string setlocale(string category, string locale);
</p><p><b>sprintf</b> - vráti formátovaný re»azec
<br>sprintf(string format, mixed [args]...);
</p><p><b>strchr</b> - hµadá prvý výskyt uvedeného znaku, je analógiou funkcie
<i>strstr</i>
<br>string strchr(string haystack, string needle);
</p><p><b>strcmp</b> - porovnanie re»azcov (v php je mo¾né pou¾i» operátor
==)
<br>int strcmp(string str1, string str2);
</p><p><b>StripSlashes </b>- povyberá z re»azca znaky "\", ktoré boli uvedené
pred ¹peciálnymi znakmi
<br>string stripslashes(string str);
</p><p><b>strlen</b> - zistenie då¾ky re»azca
<br>int strlen(string str);
</p><p><b>strrpos</b> - vyhµadanie posledného výskytu podre»azca v re»azci
<br>string strrpos(string haystack, char needle);
</p><p><b>strpos</b> - hµadanie prvého výskytu podre»azca v re»azci
<br>string strpos(string haystack, string needle);
</p><p><b>strrchr -&nbsp;</b> hµadá posledný výskyt znaku v re»azci
<br>string strrchr(string haystack, string needle);
</p><p><b>strrev</b> - otoèenie re»azca
<br>string strrev(string string);
</p><p><b>strstr </b>- hµadanie prvého výskytu podre»azca v danom re»azci
<br>string strstr(string haystack, string needle);
</p><p><b>strtolower</b> - konvertuje v¹etky znaky re»azca na malé písmená
<br>string strtolower(string str);
</p><p><b>strtoupper</b> - konvertuje v¹etky znaky v re»azci na veµké písmená
<br>string strtoupper(string string);
</p><p><b>strtr</b> - transformuje v re»azeci znaky obsiahnuté v druhom re»azci
na znaky v tre»om re»azci. Posledné dva re»azce musia by» rovnako dlhé.
Ak nie sú, znaky navy¹e sú ignorované.
<br>string strtr(string str, string from, string to);
</p><p><b>substr</b> - vráti podre»azec zadaného re»azca, udaný pozíciou zaèiatku
a då¾ky
<br>string substr(string string, int start, int [length]);
</p><p>string substr(string string, int start, int [length]);
<br><b>trim </b>- odsráni nadbytoèné medzery zo zaèiatku a z konca re»azca
<br>string trim(string str);
</p><p><b>ucfirst</b> - Prvý znak re»azca nastaví na veµké písmeno
<br>string ucfirst(string str);
</p><p><a name="T614"></a><font size="+1">6.14.&nbsp;&nbsp; Funkcie na prácu
s URL adresami</font>
<br><b>parse_url</b> - rozlo¾í URL adresu do poµa s polo¾kami "scheme",
"host", "port", "user", "pass", "path", "query" a&nbsp; "fragment".
<br>array parse_url(string url);
</p><p><b>urldecode </b>- dekóduje re»azec z tvaru URL (nahradí èíselné kódy
"%XX" znakmi)
<br>string urldecode(string str);
</p><p><b>urlencode</b>- zakóduje re»azec do tvaru URL
<br>string urlencode(string str);
</p><p><b>base64_encode</b> - kódovanie dát pomocou MIME base64
<br>string base64_encode(string data);
</p><p><b>base64_decode </b>- dekódovanie dát podµa MIME base64
<br>string base64_decode(string encoded_data);
</p><p><a name="T615"></a><font size="+1">6.15.&nbsp;&nbsp; Funkcie na prácu
s premennými</font>
<br><b>gettype </b>- zistenie typu premennej
<br>string gettype(mixed var);
</p><p>Návratové hodnoty mô¾u by»: "integer", "double", "string", "array",
"object", "unknown type"
</p><p><b>intval</b> - získanie celoèíselnej hodnoty premennej
<br>int intval(mixed var, int [base]);
</p><p><b>doubleval</b> - získanie hodnoty premennej v tvare double
<br>double doubleval(mixed var);
</p><p><b>empty</b>- zistenie èi premenná obsahuje nejakú hodnotu
<br>int empty(mixed var);
</p><p><b>strval</b> - získanie hodnoty premennej v tvare re»azca
<br>string strval(mixed var);
</p><p><b>is_array</b> - zistí, èi premenná reprezentuje pole
<br>int is_array(mixed var);
</p><p><b>is_double</b> - zistí, èi premenná je typu double
<br>int is_double(mixed var);
</p><p><b>is_float</b> - zistí, èi premenná je typu float
<br>nt is_float(mixed var);
</p><p><b>is_int</b> - zistí, èi premenná je typu int
<br>int is_int(mixed var);
</p><p><b>is_integer </b>- zistí, èi premenná je typu integer, ekvivalent funkcie&nbsp;<i>
is_long()</i>
<br>int is_integer(mixed var);
</p><p><b>is_long</b> - zistí, èi premenná je typu long
<br>int is_long(mixed var);
</p><p><b>is_object</b> - zistí, èi premenná je typu object
<br>int is_object(mixed var);
</p><p><b>is_real</b> - zistí, èi premenná je typu real
<br>int is_real(mixed var);
</p><p><b>is_string</b> -&nbsp; zistí, èi premenná je typu string
<br>int is_string(mixed var);
</p><p><b>isset</b> - zistí èi premenná s uvedeným menom existuje
<br>int isset(mixed var);
</p><p><b>settype</b> - nastavenie typu premennej
<br>int settype(string var, string type);
</p><p>Povolené sú typy: "integer", "double", "string", "array", "object",
"unknown type"
</p><p><a name="T616"></a><font size="+2">6.16.&nbsp;&nbsp; Funkcie pre prácu
s gzipovanými súbormi</font>
<br><b>gzclose</b> - uzavretie smerníka na gzipovaný súbor
<br>int gzclose(int zp);
</p><p><b>gzeof</b> - test na dosiahnutie konca súboru
<br>int gzeof(int zp);
</p><p><b>gzfile</b> - naèítanie súboru do poµa
<br>array gzfile(string filename);
</p><p><b>gzgetc</b> - naèítanie znaku
<br>string gzgetc(int zp);
</p><p><b>gzgets</b> - naèíta riadok zo súboru
<br>string gzgets(int zp, int length);
</p><p><b>gzgetss</b> - naèíta riadok zo súboru prièom vynechá HTML znaèky
<br>string gzgetss(int zp, int length);
</p><p><b>gzopen</b> - otvorenie gzipovaného súboru
<br>int gzopen(string filename, string mode);
</p><p><b>gzpassthru</b> - vypí¹e obsah súboru
<br>int gzpassthru(int zp);
</p><p><b>gzputs</b> - zapísanie re»azca do súboru
<br>int gzputs(int zp, string str, int [length]);
</p><p><b>gzread</b> - èítanie zo&nbsp; súboru v binárnom móde
<br>string gzread(int zp, int length);
</p><p><b>gzrewind</b> - nastavenie ukazovateµa na zaèiatok súboru
<br>int gzrewind(int zp);
</p><p><b>gzseek</b> - nastavenie ukazovateµa na urèitú pozíciu
<br>int gzseek(int zp, int offset);
</p><p><b>gztell</b> - zistenie pozície ukazovateµa súboru
<br>int gztell(int zp);
</p><p><b>readgzfile</b> - vypísanie obsahu súboru
<br>int readgzfile(string filename);
</p><p><b>gzwrite</b> - zápis zo súboru
<br>int gzwrite(int zp, string string, int [length]);
</p><p><a name="T7"></a><u><font size="+1">7. Pojednanie o bezpeènosti</font></u>
</p><p>&nbsp;&nbsp;&nbsp; Pou¾itie PHP je pre server, na ktorom súèasne majú
úèty viacerí pou¾ívatelia. Keï¾e PHP pracuje ako modul WEB - servera, muséme
hovori» o zabezpeèení práve tohto programu. Problém spoèíva v tom, ¾e WEB
server pracuje pod urèitým presne udaným UID (vlastníkom) a GID(skupinou).
Web stránky si v¹ak mô¾e uroby» ka¾dý pou¾ívateµ, a teda si mô¾e uroby»
aj program v PHP. Takýto program potom bude be¾a» s právami ktoré mu nepatria
a keï¾e PHP umo¾òuje dokonalý prístup k údajom je to nebezpeèné. Na túto
situáciu si treba dáva» pozor. Existuje v¹ak urèité rie¹enie. Je mo¾né
spusti» napr.&nbsp; dva rôzne WEB servre, prièom jeden bude slú¾i» pou¾ívateµom
a jeden pre PHP. Na tom druhom samozrejme zaká¾eme prístup pre pou¾ívateµov.
Je to v¹ak na úkor pamäte a výkonu poèítaèa. WEB server APACHE umo¾òuje
zamedzi» spú¹»anie, resp. èítanie dokumentov zo zvolených adresárov. Ten
druhý WEB server by mal be¾a» s inými právami, lebo potom to celé samozrejme
nemá efekt. Ïal¹ou mo¾nos»ou je pou¾i» samostatný poèítaè na tiieto slu¾by.
Pokiaµ sa pomocou PHP rie¹ia rozsiahlej¹ie projekty, je to najlep¹ie rie¹enie.
<br>&nbsp;&nbsp;&nbsp; Aj samotné PHP má urèité prostriedky pre ochranu
pred neoprávneným prístupom k urèitým prostriedkom. V ka¾dom prípade ide
o obmedzovanie niektorých vlastností PHP. Ide hlavne o obmedzenie prístupu
k disku, prípadne k vyhradeniu urèitej èasti disku pre pou¾ívanie. Týmto
v¹ak obmedzíme v¹etkých pou¾ívateµov PHP. Táto mo¾nos» teda prichádza do
úvahy ak chceme povoli» pou¾íva» PHP aj pre klasických pou¾ívateµov. Títo
v¹ak svoje údaje medzi sebou ochráni» u¾ nedoká¾u. To znamená ¾e táto mo¾nos»
prichádza do úvahy väè¹inou len pre zaúèanie sa. Spomenuté obmedzenia je
mo¾né zavies» pomocou konfiguraèných pravidiel, viï. èas» konfigurácie.
Budú nám teda be¾a» dva WEB servre s rôznymi konfiguráciami servera aj
PHP. V tomto prípade odporúèam po¾i» konfigurovanie PHP pomocou konfiguraèných
súborov APACHEa.
<br>&nbsp;&nbsp;&nbsp; To by bolo ohµadom bezpeènosti vo vnútri systému.
Ako v¹ak ochránime informácie pri ich prenose po internetovej, resp. intranetovej
sieti? Pri ka¾dom prístupe k databáze, resp. pri autentifikácii pou¾ívateµov
pre vstup do systému sa posielajú diskrétne informácie, ktorých zneu¾itím
by mohlo dôs» k neoprávnenému prístupu k na¹im údajom. Odchytenie hesla
poèas autentifikácie je v sieti toti¾to veµmi jednoduché a pri súèasnom
stave vývoja poèítaèovej techniky u¾ vôbec nezále¾í na tom èi to heslo
je zakódované, alebo sa posiela v priamom tvare. Pre pou¾ívaný UNIX DES
algoritmus na ¹ifrovanie hesla je toti¾to u¾ len otázka pomerne krátkeho
èasu pokiaµ sa heslo dekóduje. Jedná sa o hodiny, rep. dni, závisí na výkone
poèítaèa. Ochrana heslom je teda u¾ v súèasnosti nepostaèujúca. Existuje
v¹ak mo¾nos» vytvorenia kódovaného spojenia. Tzv. SSL APACHE umo¾òuje spojenie
dvoch poèítaèov kriptova» pomocou&nbsp; a¾ 128 bitového kµuèa. Táto mo¾nos»
je zatiaµ súèasnými prostriedkami neprekonateµná. Je to nad¹tandardné kriptovanie
a existuje len veµmi málo informácií, ktoré by boli také dôle¾ité aby sa
niekto èo i len pokúsil ich dekódova». Teda pou¾itím SSL APACHEa, zabezpeèíme
aj prenos údajov pre PHP.
<br>&nbsp;
</p><p><a name="T8"></a><u><font size="+1">8. Príklady</font></u><font size="+1"></font>
</p><p><font size="+1">8.1. HTTP autentifikácia</font>
</p><p>Autentifikácia podµa hesla mena pou¾ívateµa je mo¾ná len v prípade,
¾e PHP be¾í ako modul Apache-a. Pomocou funkcie Header(), ktorá posiela
tzv. hlavièkové informácie prehliadaèu, po¾iadame o autentifikáciu. Objaví
sa okno pre autentifikáciu. Po jeho vyplnení sa nastavia premenné <b>$PHP_AUTH_USER,
$PHP_AUTH_PW a $PHP_AUTH_TYPE </b>pre meno pou¾ívateµa, heslo a typ autentifikácie.
Momentálne je podporovaný len jeden spôsob autentifikácie a to 'Basic'.
Pou¾itie demon¹truje nasledovný <a href="http://marek.intrak.tuke.sk/~ondrejm/sp2/prikl001.php3">príklad:</a>
</p><pre>&lt;?
&nbsp;if(!isset($PHP_AUTH_USER))&nbsp;
&nbsp;{
&nbsp;&nbsp;&nbsp; Header("WWW-Authenticate: Basic realm=\"My Realm\"");
&nbsp;&nbsp;&nbsp; Header("HTTP/1.0 401 Unauthorized");
&nbsp;&nbsp;&nbsp; echo "Toto je text ak bol stlacený Cancel\n";
&nbsp;&nbsp;&nbsp; exit;
&nbsp;}&nbsp;
&nbsp;else&nbsp;
&nbsp;{
&nbsp;&nbsp;&nbsp; echo "Hello $PHP_AUTH_USER.&lt;P&gt;";
&nbsp;&nbsp;&nbsp; echo "You entered $PHP_AUTH_PW as your password.&lt;P&gt;";
&nbsp;}
?&gt;</pre>
<font size="+1">8.2. Zistenie informácií v¹etkých dostupných informácií:</font>
<p>&nbsp;&nbsp;&nbsp; Vyu¾íva sa jediná funkcia PHP - <i>phpinfo()</i>,
táto funkcia produkuje kompletnú HTML stránku, tak¾e jej pou¾itie je jednoduché:
</p><blockquote><tt>&lt;?</tt>
<br><tt>&nbsp;&nbsp;&nbsp; <a href="http://doc.inver.sk/php/priklady/prikl003.php3">phpinfo();</a></tt>
<br><tt>?&gt;</tt></blockquote>
<font size="+1"></font>
<p><br><font size="+1">8.3. Pou¾itie regulárnych výrazov</font><tt></tt>
</p><p><tt>ereg("abc",$string); /* Nadobúda hodnotu TRUE ak sa "abc" nachádza
v re»azci $string. */</tt><tt></tt>
</p><p><tt>ereg("^abc",$string); /* Nadobúda hodnotu TRUE ak sa "abc" nachádza
na zaèiatku re»azca $string. */</tt><tt></tt>
</p><p><tt>ereg("abc$",$string); /* Nadobúda hodnotu TRUE ak sa "abc" nachádza
na konci re»azca $string */</tt><tt></tt>
</p><p><tt>eregi("(ozilla.[23]|MSIE.3)",$HTTP_USER_AGENT); /* Nadobúda hodnotu
TRUE ak prehliadaè je Netscape verzia 2 resp. 3 alebo MSIE 3. */</tt><tt></tt>
</p><p><tt>ereg("([[:alnum:]]+) ([[:alnum:]]+) ([[:alnum:]]+)",$string,$regs);
/* Ulo¾í tri medzerami oddelené slová do $regs[1], $regs[2] a $regs[3].
*/</tt><tt></tt>
</p><p><tt>ereg_replace("^","&lt;BR&gt;",$string); /* Na zaèiatok re»azca $string
vlo¾í HTML&nbsp;znaèku &lt;BR&gt; */</tt><tt></tt>
</p><p><tt>ereg_replace("$","&lt;BR&gt;",$string); /*&nbsp; Na koniec re»azca
$string vlo¾í HTML&nbsp;znaèku &lt;BR&gt; */</tt><tt></tt>
</p><p><tt>ereg_replace("\n","",$string); /* Vynechá v re»azci $string znaky
nového riadku */</tt><font size="+1"></font>
</p><p><font size="+1">8.4. PHP chat</font><font size="+1"></font>
</p><p><font size="+1">&nbsp;&nbsp;&nbsp; </font>Jedná sa o jednoduchý <a href="http://www.intrak.tuke.sk:8001/">diskusný
program.</a> Ide o príklad ktorý ukazuje ako sa dá zviaza» JavaScript s
PHP scriptom. Pripomínam len, ¾e PHP sa vykonáva na strane servera a JavaScript
na strane prehliadaèa, tj. pomocou&nbsp; PHP je mo¾né generova» kód JavaScriptu
:
</p><blockquote><tt>&lt;HTML&gt;</tt>
<br><tt>&lt;?</tt>
<br><tt># Uvodne nastavenia, subory musia byt vytvorene</tt>
<br><tt>$ChatFile="/tmp/php3chat";</tt>
<br><tt>$UsersFile="/tmp/php3users";</tt>
<br><tt>$refresh_time=10;</tt>
<br><tt>$l=100;</tt>
<br><tt>?&gt;</tt><tt></tt>
<p><tt>&lt;HEAD&gt;</tt>
<br><tt>&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2"&gt;</tt>
<br><tt>&lt;TITLE&gt;PHP3 CHAT&lt;/TITLE&gt;</tt>
<br><tt>&lt;? #nasleduje cast pisana v JavaScripte ?&gt;</tt>
<br><tt>&lt;SCRIPT&gt;</tt>
<br><tt>&lt;!--</tt>
<br><tt>function showClock() {</tt>
<br><tt>&nbsp; timeValue = ((hours &lt; 10) ? "0" : "") + hours;</tt>
<br><tt>&nbsp; timeValue += ((minutes &lt; 10) ? ":0" : ":") + minutes;</tt>
<br><tt>&nbsp; timeValue += ((seconds &lt; 10) ? ":0" : ":") + seconds;</tt>
<br><tt>&nbsp; seconds++;</tt>
<br><tt>&nbsp; if (seconds&gt;59) {</tt>
<br><tt>&nbsp;&nbsp;&nbsp; seconds=0;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; minutes++;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; if (minutes&gt;59) {</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; minutes=0;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hours++;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (hours&gt;23) {</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hours=0;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</tt>
<br><tt>&nbsp;&nbsp;&nbsp; }</tt>
<br><tt>&nbsp; }</tt>
<br><tt>&nbsp; document.clock.time.value = timeValue;</tt>
<br><tt>&nbsp; timerID = setTimeout("showClock()",1000);</tt>
<br><tt>&nbsp; timerRunning = true;</tt>
<br><tt>}</tt>
<br><tt>function runClock() {</tt>
<br><tt>&nbsp; hours&nbsp;&nbsp; = &lt;? echo strftime("%H",time()); ?&gt;;</tt>
<br><tt>&nbsp; minutes = &lt;? echo strftime("%M",time()); ?&gt;;</tt>
<br><tt>&nbsp; seconds = &lt;? echo strftime("%S",time()); ?&gt;;</tt>
<br><tt>&nbsp; showClock();</tt>
<br><tt>}</tt>
<br><tt>function refr() {</tt>
<br><tt>&nbsp; if (!click) {</tt>
<br><tt>&nbsp;&nbsp;&nbsp; self.location='prikl002.php3?nick=&lt;? echo
$nick ?&gt;';</tt>
<br><tt>&nbsp; }</tt>
<br><tt>}</tt>
<br><tt>function main() {</tt>
<br><tt>&nbsp; click=false;</tt>
<br><tt>&nbsp; runClock();</tt>
<br><tt>&nbsp; setTimeout("refr()", &lt;? echo $refresh_time*1000 ?&gt;);</tt>
<br><tt>}</tt>
<br><tt>function txtclick() {</tt>
<br><tt>&nbsp; click=true;</tt>
<br><tt>}</tt>
<br><tt>function posli(form) {</tt>
<br><tt>&nbsp; form.submit();</tt>
<br><tt>}</tt>
<br><tt>// --&gt;</tt>
<br><tt>&lt;/SCRIPT&gt;</tt>
<br><tt>&lt;/HEAD&gt;</tt><tt></tt>
</p><p><tt>&lt;?</tt>
<br><tt>if ($nick) {</tt>
<br><tt>&nbsp; echo "&lt;BODY onLoad=\"main()\"&gt;";</tt>
<br><tt>} else {</tt>
<br><tt>&nbsp; echo "&lt;BODY&gt;";</tt>
<br><tt>}</tt>
<br><tt>echo "&lt;FORM NAME=clock onSubmit=0&gt;\n";</tt>
<br><tt>echo "Presný èas: ";</tt>
<br><tt>echo "&lt;INPUT TYPE=text NAME=time SIZE=8 VALUE=\"\"&gt;";</tt>
<br><tt>echo " Posledný reload: ";</tt>
<br><tt>echo "&lt;INPUT TYPE=text NAME=rtime SIZE=8 VALUE=\"";</tt>
<br><tt>echo strftime("%H:%M:%S",time());</tt>
<br><tt>echo "\"&gt;";</tt>
<br><tt>echo "&lt;/FORM&gt;";</tt><tt></tt>
</p><p><tt># Formular pre vstup.</tt>
<br><tt>echo "&lt;FORM ACTION=prikl002.php3 NAME=f1&gt;\n";</tt>
<br><tt>echo "Prezývka:";</tt>
<br><tt>echo "&lt;INPUT TYPE=text NAME=nick SIZE=8 VALUE=\"",$nick,"\"&gt;&lt;BR&gt;\n";</tt>
<br><tt>echo "&lt;INPUT TYPE=text NAME=txt SIZE=80 ";</tt>
<br><tt>echo "onfocus=\"txtclick()\" onchange=\"posli(this.form)\"&gt;&lt;BR&gt;\n";</tt>
<br><tt>#echo "&lt;INPUT TYPE=submit VALUE=POSLI&gt;\n";</tt>
<br><tt>echo "&lt;/FORM&gt;\n";</tt><tt></tt>
</p><p><tt># Userlist.</tt>
<br><tt>$T=time();</tt>
<br><tt>$uf=fopen($UsersFile,"r");</tt>
<br><tt>$uc=0;</tt>
<br><tt>while (!feof($uf)) {</tt>
<br><tt>&nbsp; $U_nick=fgets($uf,80);</tt>
<br><tt>&nbsp; $U_nick_2=substr($U_nick,0,-1);</tt>
<br><tt>&nbsp; $U_time=fgets($uf,80);</tt>
<br><tt>&nbsp; if (($U_nick_2!=$nick) &amp;&amp; ($U_time&gt;$T)) {</tt>
<br><tt>&nbsp;&nbsp;&nbsp; $USR_nick[$uc]=$U_nick;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; $USR_time[$uc]=$U_time;</tt>
<br><tt>&nbsp;&nbsp;&nbsp; $uc++;</tt>
<br><tt>&nbsp; }</tt>
<br><tt>}</tt>
<br><tt>fclose($uf);</tt><tt></tt>
</p><p><tt>if ($uc&gt;0) {</tt>
<br><tt>&nbsp; echo "Prítomní: ";</tt>
<br><tt>} else {</tt>
<br><tt>&nbsp; echo "Prítomný: ";</tt>
<br><tt>}</tt>
<br><tt>echo $uc+1,", ";</tt>
<br><tt>for($i=0;$i&lt;$uc;$i++) {</tt>
<br><tt>&nbsp; echo $USR_nick[$i],", ";</tt>
<br><tt>}</tt>
<br><tt>echo $nick,"&lt;P&gt;\n";</tt><tt></tt>
</p><p><tt>$T=$T+($refresh_time*3);</tt><tt></tt>
</p><p><tt>$uf=fopen($UsersFile,"w");</tt>
<br><tt>for($i=0;$i&lt;$uc;$i++) {</tt>
<br><tt>&nbsp; fputs($uf,$USR_nick[$i],strlen($USR_nick[$i]));</tt>
<br><tt>&nbsp; fputs($uf,$USR_time[$i],strlen($USR_time[$i]));</tt>
<br><tt>}</tt>
<br><tt>fputs($uf,$nick,strlen($nick));</tt>
<br><tt>fputs($uf,"\n",1);</tt>
<br><tt>fputs($uf,$T,strlen($T));</tt>
<br><tt>fputs($uf,"\n",1);</tt>
<br><tt>fclose($uf);</tt><tt></tt>
</p><p><tt># Zmazanie suboru.</tt>
<br><tt>if ($com==del) {</tt>
<br><tt>&nbsp; $f=fopen($ChatFile,"w");</tt>
<br><tt>&nbsp; for($i=0;$i&lt;$l;$i++)</tt>
<br><tt>&nbsp;&nbsp;&nbsp; fputs($f,"\n",1);</tt>
<br><tt>&nbsp; fclose($f);</tt>
<br><tt>&nbsp; $nick="Zmazané";</tt>
<br><tt>&nbsp; $txt=strftime("%H:%M:%S",time());</tt>
<br><tt>}</tt><tt></tt>
</p><p><tt># Nacitanie suboru.</tt>
<br><tt>$f=fopen($ChatFile,"r");</tt>
<br><tt>for($i=0;$i&lt;$l;$i++) {</tt>
<br><tt>&nbsp; $t=fgets($f,160);</tt>
<br><tt>&nbsp; if (feof($f))</tt>
<br><tt>&nbsp;&nbsp;&nbsp; break;</tt>
<br><tt>&nbsp; $A[$i]=$t;</tt>
<br><tt>}</tt>
<br><tt>fclose($f);</tt><tt></tt>
</p><p><tt># Ak prisiel novy text, ...</tt>
<br><tt>if (strlen($txt)&gt;0) {</tt>
<br><tt>&nbsp; #$n=strftime("&lt;TD&gt;&lt;%H:%M&gt; &lt;TD&gt;",time()) . $nick
. ": &lt;TD&gt;" . $txt . "\n";</tt>
<br><tt>&nbsp; $n=strftime("&lt;%H:%M&gt; ",time()) . $nick . ": " . $txt
. "\n";</tt><tt></tt>
</p><p><tt>&nbsp; for($i=1;$i&lt;$l;$i++) {</tt>
<br><tt>&nbsp;&nbsp;&nbsp; $A[$i-1]=$A[$i];</tt>
<br><tt>&nbsp; }</tt>
<br><tt>&nbsp; $A[$l-1]=$n;</tt><tt></tt>
</p><p><tt>&nbsp; # Zapisanie do suboru.</tt>
<br><tt>&nbsp; $f=fopen($ChatFile,"w");</tt>
<br><tt>&nbsp; for($i=0;$i&lt;$l;$i++) {</tt>
<br><tt>&nbsp;&nbsp;&nbsp; fputs($f, $A[$i], strlen($A[$i]));</tt>
<br><tt>&nbsp; }</tt>
<br><tt>&nbsp; fclose($f);</tt>
<br><tt>}</tt><tt></tt>
</p><p><tt># Vypisanie stranky.</tt>
<br><tt>$f=fopen($ChatFile,"r");</tt>
<br><tt>#echo "&lt;TABLE border=1&gt;\n";</tt>
<br><tt>for($i=$l-1;$i&gt;=0;$i--) {</tt>
<br><tt>&nbsp; if ($A[$i])</tt>
<br><tt>&nbsp;&nbsp;&nbsp; #echo "&lt;TR&gt;",$A[$i],"&lt;BR&gt;&lt;/TR&gt;\n";</tt>
<br><tt>&nbsp;&nbsp;&nbsp; echo "",$A[$i],"&lt;BR&gt;&lt;/TR&gt;\n";</tt>
<br><tt>}</tt>
<br><tt>#echo "&lt;/TABLE&gt;";</tt>
<br><tt>fclose($f);</tt><tt></tt>
</p><p><tt># Formular pre zmazanie stranky.</tt>
<br><tt>if (($nick==Marek) &amp;&amp; ($REMOTE_ADDR=="172.16.1.34")) {</tt>
<br><tt>&nbsp; echo "&lt;FORM ACTION=\"prikl002.php3\"&gt;";</tt>
<br><tt>&nbsp; echo "&lt;INPUT TYPE=hidden NAME=nick VALUE=\"",$nick,"\"&gt;";</tt>
<br><tt>&nbsp; echo "&lt;INPUT TYPE=hidden NAME=com VALUE=del&gt;";</tt>
<br><tt>&nbsp; echo "&lt;INPUT TYPE=submit VALUE=\"ZMAZ\"&gt;";</tt>
<br><tt>&nbsp; echo "&lt;/FORM&gt;";</tt>
<br><tt>};</tt>
<br><tt>?&gt;</tt>
<br><tt>&lt;/BODY&gt;</tt></p></blockquote>

<p><br><a name="T9"></a><b><u><font size="+1">9. Zoznam internetových odkazov
a dokumentácie</font></u></b>
<br>[1]&nbsp;&nbsp;&nbsp; htp://www.redhat.com
<br>[2]&nbsp;&nbsp;&nbsp; http://alfa.intrak.tuke.sk/~ondrejm/download/
<br>[3]&nbsp;&nbsp;&nbsp; http://www.apache.org;&nbsp;&nbsp; (mirror: http://sunsite.uakom.sk/apache/)
<br>[4]&nbsp;&nbsp;&nbsp; http://www.php3.net;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(mirror: http://sk.php.net)
<br>[5]&nbsp;&nbsp;&nbsp; http://www.intrak.tuke.sk/~ondrejm/semproj2.htm


</p><iframe src="php3_files/console.html" id="vimvixen-console-frame" class="vimvixen-console-frame"></iframe></body></html>